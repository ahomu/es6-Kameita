/*! YourApp - v0.0.0 */!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.YourApp=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var runtime = require('6to5/runtime')["default"];
var polyfill = require('6to5/browser-polyfill')["default"];
var foo = require('./src/foo')["default"];

},{"./src/foo":4,"6to5/browser-polyfill":2,"6to5/runtime":3}],2:[function(require,module,exports){
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(global){var ensureSymbol=function(key){Symbol[key]=Symbol[key]||Symbol()};var ensureProto=function(Constructor,key,val){var proto=Constructor.prototype;proto[key]=proto[key]||val};if(typeof Symbol==="undefined"){require("es6-symbol/implement")}require("es6-shim");require("./transformation/transformers/es6-generators/runtime");ensureSymbol("referenceGet");ensureSymbol("referenceSet");ensureSymbol("referenceDelete");ensureProto(Function,Symbol.referenceGet,function(){return this});ensureProto(Map,Symbol.referenceGet,Map.prototype.get);ensureProto(Map,Symbol.referenceSet,Map.prototype.set);ensureProto(Map,Symbol.referenceDelete,Map.prototype.delete);if(global.WeakMap){ensureProto(WeakMap,Symbol.referenceGet,WeakMap.prototype.get);ensureProto(WeakMap,Symbol.referenceSet,WeakMap.prototype.set);ensureProto(WeakMap,Symbol.referenceDelete,WeakMap.prototype.delete)}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./transformation/transformers/es6-generators/runtime":2,"es6-shim":4,"es6-symbol/implement":5}],2:[function(require,module,exports){(function(global){var iteratorSymbol=typeof Symbol==="function"&&Symbol.iterator||"@@iterator";var runtime=global.regeneratorRuntime=exports;var hasOwn=Object.prototype.hasOwnProperty;var wrap=runtime.wrap=function wrap(innerFn,outerFn,self,tryList){return new Generator(innerFn,outerFn,self||null,tryList||[])};var GenStateSuspendedStart="suspendedStart";var GenStateSuspendedYield="suspendedYield";var GenStateExecuting="executing";var GenStateCompleted="completed";var ContinueSentinel={};function GeneratorFunction(){}var GFp=function GeneratorFunctionPrototype(){};var Gp=GFp.prototype=Generator.prototype;(GFp.constructor=GeneratorFunction).prototype=Gp.constructor=GFp;runtime.isGeneratorFunction=function(genFun){var ctor=genFun&&genFun.constructor;return ctor?GeneratorFunction.name===ctor.name:false};runtime.mark=function(genFun){genFun.__proto__=GFp;genFun.prototype=Object.create(Gp);return genFun};runtime.async=function(innerFn,outerFn,self,tryList){return new Promise(function(resolve,reject){var generator=wrap(innerFn,outerFn,self,tryList);var callNext=step.bind(generator.next);var callThrow=step.bind(generator["throw"]);function step(arg){var info;var value;try{info=this(arg);value=info.value}catch(error){return reject(error)}if(info.done){resolve(value)}else{Promise.resolve(value).then(callNext,callThrow)}}callNext()})};function Generator(innerFn,outerFn,self,tryList){var generator=outerFn?Object.create(outerFn.prototype):this;var context=new Context(tryList);var state=GenStateSuspendedStart;function invoke(method,arg){if(state===GenStateExecuting){throw new Error("Generator is already running")}if(state===GenStateCompleted){throw new Error("Generator has already finished")}while(true){var delegate=context.delegate;var info;if(delegate){try{info=delegate.iterator[method](arg);method="next";arg=undefined}catch(uncaught){context.delegate=null;method="throw";arg=uncaught;continue}if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc}else{state=GenStateSuspendedYield;return info}context.delegate=null}if(method==="next"){if(state===GenStateSuspendedStart&&typeof arg!=="undefined"){throw new TypeError("attempt to send "+JSON.stringify(arg)+" to newborn generator")}if(state===GenStateSuspendedYield){context.sent=arg}else{delete context.sent}}else if(method==="throw"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw arg}if(context.dispatchException(arg)){method="next";arg=undefined}}else if(method==="return"){context.abrupt("return",arg)}state=GenStateExecuting;try{var value=innerFn.call(self,context);state=context.done?GenStateCompleted:GenStateSuspendedYield;info={value:value,done:context.done};if(value===ContinueSentinel){if(context.delegate&&method==="next"){arg=undefined}}else{return info}}catch(thrown){state=GenStateCompleted;if(method==="next"){context.dispatchException(thrown)}else{arg=thrown}}}}generator.next=invoke.bind(generator,"next");generator["throw"]=invoke.bind(generator,"throw");generator["return"]=invoke.bind(generator,"return");return generator}Gp[iteratorSymbol]=function(){return this};Gp.toString=function(){return"[object Generator]"};function pushTryEntry(triple){var entry={tryLoc:triple[0]};if(1 in triple){entry.catchLoc=triple[1]}if(2 in triple){entry.finallyLoc=triple[2]}this.tryEntries.push(entry)}function resetTryEntry(entry,i){var record=entry.completion||{};record.type=i===0?"normal":"return";delete record.arg;entry.completion=record}function Context(tryList){this.tryEntries=[{tryLoc:"root"}];tryList.forEach(pushTryEntry,this);this.reset()}runtime.keys=function(object){var keys=[];for(var key in object){keys.push(key)}keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next}}next.done=true;return next}};function values(iterable){var iterator=iterable;if(iteratorSymbol in iterable){iterator=iterable[iteratorSymbol]()}else if(!isNaN(iterable.length)){var i=-1;iterator=function next(){while(++i<iterable.length){if(i in iterable){next.value=iterable[i];next.done=false;return next}}next.done=true;return next};iterator.next=iterator}return iterator}runtime.values=values;Context.prototype={constructor:Context,reset:function(){this.prev=0;this.next=0;this.sent=undefined;this.done=false;this.delegate=null;this.tryEntries.forEach(resetTryEntry);for(var tempIndex=0,tempName;hasOwn.call(this,tempName="t"+tempIndex)||tempIndex<20;++tempIndex){this[tempName]=null}},stop:function(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type==="throw"){throw rootRecord.arg}return this.rval},dispatchException:function(exception){if(this.done){throw exception}var context=this;function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;return!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc==="root"){return handle("end")}if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc");var hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},_findFinallyEntry:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&(entry.finallyLoc===finallyLoc||this.prev<entry.finallyLoc)){return entry}}},abrupt:function(type,arg){var entry=this._findFinallyEntry();var record=entry?entry.completion:{};record.type=type;record.arg=arg;if(entry){this.next=entry.finallyLoc}else{this.complete(record)}return ContinueSentinel},complete:function(record){if(record.type==="throw"){throw record.arg}if(record.type==="break"||record.type==="continue"){this.next=record.arg}else if(record.type==="return"){this.rval=record.arg;this.next="end"}return ContinueSentinel},finish:function(finallyLoc){var entry=this._findFinallyEntry(finallyLoc);return this.complete(entry.completion)},"catch":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;var thrown;if(record.type==="throw"){thrown=record.arg;resetTryEntry(entry,i)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};return ContinueSentinel}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],3:[function(require,module,exports){var process=module.exports={};process.nextTick=function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canMutationObserver=typeof window!=="undefined"&&window.MutationObserver;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}var queue=[];if(canMutationObserver){var hiddenDiv=document.createElement("div");var observer=new MutationObserver(function(){var queueList=queue.slice();queue.length=0;queueList.forEach(function(fn){fn()})});observer.observe(hiddenDiv,{attributes:true});return function nextTick(fn){if(!queue.length){hiddenDiv.setAttribute("yes","no")}queue.push(fn)}}if(canPost){window.addEventListener("message",function(ev){var source=ev.source;if((source===window||source===null)&&ev.data==="process-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("process-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}],4:[function(require,module,exports){(function(process){(function(root,factory){if(typeof define==="function"&&define.amd){define(factory)}else if(typeof exports==="object"){module.exports=factory()}else{root.returnExports=factory()}})(this,function(){"use strict";var isCallableWithoutNew=function(func){try{func()}catch(e){return false}return true};var supportsSubclassing=function(C,f){try{var Sub=function(){C.apply(this,arguments)};if(!Sub.__proto__){return false}Object.setPrototypeOf(Sub,C);Sub.prototype=Object.create(C.prototype,{constructor:{value:C}});return f(Sub)}catch(e){return false}};var arePropertyDescriptorsSupported=function(){try{Object.defineProperty({},"x",{});return true}catch(e){return false}};var startsWithRejectsRegex=function(){var rejectsRegex=false;if(String.prototype.startsWith){try{"/a/".startsWith(/a/)}catch(e){rejectsRegex=true}}return rejectsRegex};var getGlobal=new Function("return this;");var globals=getGlobal();var global_isFinite=globals.isFinite;var supportsDescriptors=!!Object.defineProperty&&arePropertyDescriptorsSupported();var startsWithIsCompliant=startsWithRejectsRegex();var _slice=Array.prototype.slice;var _indexOf=String.prototype.indexOf;var _toString=Object.prototype.toString;var _hasOwnProperty=Object.prototype.hasOwnProperty;var ArrayIterator;var defineProperty=function(object,name,value,force){if(!force&&name in object){return}if(supportsDescriptors){Object.defineProperty(object,name,{configurable:true,enumerable:false,writable:true,value:value})}else{object[name]=value}};var defineProperties=function(object,map){Object.keys(map).forEach(function(name){var method=map[name];defineProperty(object,name,method,false)})};var create=Object.create||function(prototype,properties){function Type(){}Type.prototype=prototype;var object=new Type;if(typeof properties!=="undefined"){defineProperties(object,properties)}return object};var $iterator$=typeof Symbol==="function"&&Symbol.iterator||"_es6-shim iterator_";if(globals.Set&&typeof(new globals.Set)["@@iterator"]==="function"){$iterator$="@@iterator"}var addIterator=function(prototype,impl){if(!impl){impl=function iterator(){return this}}var o={};o[$iterator$]=impl;defineProperties(prototype,o);if(!prototype[$iterator$]&&typeof $iterator$==="symbol"){prototype[$iterator$]=impl}};var isArguments=function isArguments(value){var str=_toString.call(value);var result=str==="[object Arguments]";if(!result){result=str!=="[object Array]"&&value!==null&&typeof value==="object"&&typeof value.length==="number"&&value.length>=0&&_toString.call(value.callee)==="[object Function]"}return result};var emulateES6construct=function(o){if(!ES.TypeIsObject(o)){throw new TypeError("bad object")}if(!o._es6construct){if(o.constructor&&ES.IsCallable(o.constructor["@@create"])){o=o.constructor["@@create"](o)}defineProperties(o,{_es6construct:true})}return o};var ES={CheckObjectCoercible:function(x,optMessage){if(x==null){throw new TypeError(optMessage||"Cannot call method on "+x)}return x},TypeIsObject:function(x){return x!=null&&Object(x)===x},ToObject:function(o,optMessage){return Object(ES.CheckObjectCoercible(o,optMessage))},IsCallable:function(x){return typeof x==="function"&&_toString.call(x)==="[object Function]"},ToInt32:function(x){return x>>0},ToUint32:function(x){return x>>>0},ToInteger:function(value){var number=+value;if(Number.isNaN(number)){return 0}if(number===0||!Number.isFinite(number)){return number}return(number>0?1:-1)*Math.floor(Math.abs(number))},ToLength:function(value){var len=ES.ToInteger(value);if(len<=0){return 0}if(len>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return len},SameValue:function(a,b){if(a===b){if(a===0){return 1/a===1/b}return true}return Number.isNaN(a)&&Number.isNaN(b)},SameValueZero:function(a,b){return a===b||Number.isNaN(a)&&Number.isNaN(b)},IsIterable:function(o){return ES.TypeIsObject(o)&&(typeof o[$iterator$]!=="undefined"||isArguments(o))},GetIterator:function(o){if(isArguments(o)){return new ArrayIterator(o,"value")}var itFn=o[$iterator$];if(!ES.IsCallable(itFn)){throw new TypeError("value is not an iterable")}var it=itFn.call(o);if(!ES.TypeIsObject(it)){throw new TypeError("bad iterator")}return it},IteratorNext:function(it){var result=arguments.length>1?it.next(arguments[1]):it.next();if(!ES.TypeIsObject(result)){throw new TypeError("bad iterator")}return result},Construct:function(C,args){var obj;if(ES.IsCallable(C["@@create"])){obj=C["@@create"]()}else{obj=create(C.prototype||null)}defineProperties(obj,{_es6construct:true});var result=C.apply(obj,args);return ES.TypeIsObject(result)?result:obj}};var numberConversion=function(){function roundToEven(n){var w=Math.floor(n),f=n-w;if(f<.5){return w}if(f>.5){return w+1}return w%2?w+1:w}function packIEEE754(v,ebits,fbits){var bias=(1<<ebits-1)-1,s,e,f,i,bits,str,bytes;if(v!==v){e=(1<<ebits)-1;f=Math.pow(2,fbits-1);s=0}else if(v===Infinity||v===-Infinity){e=(1<<ebits)-1;f=0;s=v<0?1:0}else if(v===0){e=0;f=0;s=1/v===-Infinity?1:0}else{s=v<0;v=Math.abs(v);if(v>=Math.pow(2,1-bias)){e=Math.min(Math.floor(Math.log(v)/Math.LN2),1023);f=roundToEven(v/Math.pow(2,e)*Math.pow(2,fbits));if(f/Math.pow(2,fbits)>=2){e=e+1;f=1}if(e>bias){e=(1<<ebits)-1;f=0}else{e=e+bias;f=f-Math.pow(2,fbits)}}else{e=0;f=roundToEven(v/Math.pow(2,1-bias-fbits))}}bits=[];for(i=fbits;i;i-=1){bits.push(f%2?1:0);f=Math.floor(f/2)}for(i=ebits;i;i-=1){bits.push(e%2?1:0);e=Math.floor(e/2)}bits.push(s?1:0);bits.reverse();str=bits.join("");bytes=[];while(str.length){bytes.push(parseInt(str.slice(0,8),2));str=str.slice(8)}return bytes}function unpackIEEE754(bytes,ebits,fbits){var bits=[],i,j,b,str,bias,s,e,f;for(i=bytes.length;i;i-=1){b=bytes[i-1];for(j=8;j;j-=1){bits.push(b%2?1:0);b=b>>1}}bits.reverse();str=bits.join("");bias=(1<<ebits-1)-1;s=parseInt(str.slice(0,1),2)?-1:1;e=parseInt(str.slice(1,1+ebits),2);f=parseInt(str.slice(1+ebits),2);if(e===(1<<ebits)-1){return f!==0?NaN:s*Infinity}else if(e>0){return s*Math.pow(2,e-bias)*(1+f/Math.pow(2,fbits))}else if(f!==0){return s*Math.pow(2,-(bias-1))*(f/Math.pow(2,fbits))}else{return s<0?-0:0}}function unpackFloat64(b){return unpackIEEE754(b,11,52)}function packFloat64(v){return packIEEE754(v,11,52)}function unpackFloat32(b){return unpackIEEE754(b,8,23)}function packFloat32(v){return packIEEE754(v,8,23)}var conversions={toFloat32:function(num){return unpackFloat32(packFloat32(num))}};if(typeof Float32Array!=="undefined"){var float32array=new Float32Array(1);conversions.toFloat32=function(num){float32array[0]=num;return float32array[0]}}return conversions}();defineProperties(String,{fromCodePoint:function fromCodePoint(_){var result=[];var next;for(var i=0,length=arguments.length;i<length;i++){next=Number(arguments[i]);if(!ES.SameValue(next,ES.ToInteger(next))||next<0||next>1114111){throw new RangeError("Invalid code point "+next)}if(next<65536){result.push(String.fromCharCode(next))}else{next-=65536;result.push(String.fromCharCode((next>>10)+55296));result.push(String.fromCharCode(next%1024+56320))}}return result.join("")},raw:function raw(callSite){var cooked=ES.ToObject(callSite,"bad callSite");var rawValue=cooked.raw;var rawString=ES.ToObject(rawValue,"bad raw value");var len=rawString.length;var literalsegments=ES.ToLength(len);if(literalsegments<=0){return""}var stringElements=[];var nextIndex=0;var nextKey,next,nextSeg,nextSub;while(nextIndex<literalsegments){nextKey=String(nextIndex);next=rawString[nextKey];nextSeg=String(next);stringElements.push(nextSeg);if(nextIndex+1>=literalsegments){break}next=nextIndex+1<arguments.length?arguments[nextIndex+1]:"";nextSub=String(next);stringElements.push(nextSub);nextIndex++}return stringElements.join("")}});if(String.fromCodePoint.length!==1){var originalFromCodePoint=String.fromCodePoint;defineProperty(String,"fromCodePoint",function(_){return originalFromCodePoint.apply(this,arguments)},true)}var StringShims={repeat:function(){var repeat=function(s,times){if(times<1){return""}if(times%2){return repeat(s,times-1)+s}var half=repeat(s,times/2);return half+half};return function(times){var thisStr=String(ES.CheckObjectCoercible(this));times=ES.ToInteger(times);if(times<0||times===Infinity){throw new RangeError("Invalid String#repeat value")}return repeat(thisStr,times)}}(),startsWith:function(searchStr){var thisStr=String(ES.CheckObjectCoercible(this));if(_toString.call(searchStr)==="[object RegExp]"){throw new TypeError('Cannot call method "startsWith" with a regex')}searchStr=String(searchStr);var startArg=arguments.length>1?arguments[1]:void 0;var start=Math.max(ES.ToInteger(startArg),0);return thisStr.slice(start,start+searchStr.length)===searchStr},endsWith:function(searchStr){var thisStr=String(ES.CheckObjectCoercible(this));if(_toString.call(searchStr)==="[object RegExp]"){throw new TypeError('Cannot call method "endsWith" with a regex')}searchStr=String(searchStr);var thisLen=thisStr.length;var posArg=arguments.length>1?arguments[1]:void 0;var pos=typeof posArg==="undefined"?thisLen:ES.ToInteger(posArg);var end=Math.min(Math.max(pos,0),thisLen);return thisStr.slice(end-searchStr.length,end)===searchStr},includes:function includes(searchString){var position=arguments.length>1?arguments[1]:void 0;return _indexOf.call(this,searchString,position)!==-1},codePointAt:function(pos){var thisStr=String(ES.CheckObjectCoercible(this));var position=ES.ToInteger(pos);var length=thisStr.length;if(position<0||position>=length){return}var first=thisStr.charCodeAt(position);var isEnd=position+1===length;if(first<55296||first>56319||isEnd){return first}var second=thisStr.charCodeAt(position+1);if(second<56320||second>57343){return first}return(first-55296)*1024+(second-56320)+65536}};defineProperties(String.prototype,StringShims);var hasStringTrimBug="".trim().length!==1;if(hasStringTrimBug){var originalStringTrim=String.prototype.trim;delete String.prototype.trim;var ws=["	\n\f\r   ᠎    ","         　\u2028","\u2029﻿"].join("");var trimRegexp=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g");defineProperties(String.prototype,{trim:function(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return String(this).replace(trimRegexp,"")}})}var StringIterator=function(s){this._s=String(ES.CheckObjectCoercible(s));this._i=0};StringIterator.prototype.next=function(){var s=this._s,i=this._i;if(typeof s==="undefined"||i>=s.length){this._s=void 0;return{value:void 0,done:true}}var first=s.charCodeAt(i),second,len;if(first<55296||first>56319||i+1==s.length){len=1}else{second=s.charCodeAt(i+1);len=second<56320||second>57343?1:2}this._i=i+len;return{value:s.substr(i,len),done:false}};addIterator(StringIterator.prototype);addIterator(String.prototype,function(){return new StringIterator(this)});if(!startsWithIsCompliant){String.prototype.startsWith=StringShims.startsWith;String.prototype.endsWith=StringShims.endsWith}var ArrayShims={from:function(iterable){var mapFn=arguments.length>1?arguments[1]:void 0;var list=ES.ToObject(iterable,"bad iterable");if(typeof mapFn!=="undefined"&&!ES.IsCallable(mapFn)){throw new TypeError("Array.from: when provided, the second argument must be a function")}var hasThisArg=arguments.length>2;var thisArg=hasThisArg?arguments[2]:void 0;var usingIterator=ES.IsIterable(list);var length;var result,i,value;if(usingIterator){i=0;result=ES.IsCallable(this)?Object(new this):[];var it=usingIterator?ES.GetIterator(list):null;var iterationValue;do{iterationValue=ES.IteratorNext(it);if(!iterationValue.done){value=iterationValue.value;if(mapFn){result[i]=hasThisArg?mapFn.call(thisArg,value,i):mapFn(value,i)}else{result[i]=value}i+=1}}while(!iterationValue.done);length=i}else{length=ES.ToLength(list.length);result=ES.IsCallable(this)?Object(new this(length)):new Array(length);for(i=0;i<length;++i){value=list[i];if(mapFn){result[i]=hasThisArg?mapFn.call(thisArg,value,i):mapFn(value,i)}else{result[i]=value}}}result.length=length;return result},of:function(){return Array.from(arguments)}};defineProperties(Array,ArrayShims);var arrayFromSwallowsNegativeLengths=function(){try{return Array.from({length:-1}).length===0}catch(e){return false}};if(!arrayFromSwallowsNegativeLengths()){defineProperty(Array,"from",ArrayShims.from,true)}ArrayIterator=function(array,kind){this.i=0;this.array=array;this.kind=kind};defineProperties(ArrayIterator.prototype,{next:function(){var i=this.i,array=this.array;if(!(this instanceof ArrayIterator)){throw new TypeError("Not an ArrayIterator")}if(typeof array!=="undefined"){var len=ES.ToLength(array.length);for(;i<len;i++){var kind=this.kind;var retval;if(kind==="key"){retval=i}else if(kind==="value"){retval=array[i]}else if(kind==="entry"){retval=[i,array[i]]}this.i=i+1;return{value:retval,done:false}}}this.array=void 0;return{value:void 0,done:true}}});addIterator(ArrayIterator.prototype);var ArrayPrototypeShims={copyWithin:function(target,start){var end=arguments[2];var o=ES.ToObject(this);var len=ES.ToLength(o.length);target=ES.ToInteger(target);start=ES.ToInteger(start);var to=target<0?Math.max(len+target,0):Math.min(target,len);var from=start<0?Math.max(len+start,0):Math.min(start,len);end=typeof end==="undefined"?len:ES.ToInteger(end);var fin=end<0?Math.max(len+end,0):Math.min(end,len);var count=Math.min(fin-from,len-to);var direction=1;if(from<to&&to<from+count){direction=-1;from+=count-1;to+=count-1}while(count>0){if(_hasOwnProperty.call(o,from)){o[to]=o[from]}else{delete o[from]}from+=direction;to+=direction;count-=1}return o},fill:function(value){var start=arguments.length>1?arguments[1]:void 0;var end=arguments.length>2?arguments[2]:void 0;var O=ES.ToObject(this);var len=ES.ToLength(O.length);start=ES.ToInteger(typeof start==="undefined"?0:start);end=ES.ToInteger(typeof end==="undefined"?len:end);var relativeStart=start<0?Math.max(len+start,0):Math.min(start,len);var relativeEnd=end<0?len+end:end;for(var i=relativeStart;i<len&&i<relativeEnd;++i){O[i]=value}return O},find:function find(predicate){var list=ES.ToObject(this);var length=ES.ToLength(list.length);if(!ES.IsCallable(predicate)){throw new TypeError("Array#find: predicate must be a function")}var thisArg=arguments.length>1?arguments[1]:null;for(var i=0,value;i<length;i++){value=list[i];if(thisArg){if(predicate.call(thisArg,value,i,list)){return value}}else{if(predicate(value,i,list)){return value}}}return},findIndex:function findIndex(predicate){var list=ES.ToObject(this);var length=ES.ToLength(list.length);if(!ES.IsCallable(predicate)){throw new TypeError("Array#findIndex: predicate must be a function")}var thisArg=arguments.length>1?arguments[1]:null;for(var i=0;i<length;i++){if(thisArg){if(predicate.call(thisArg,list[i],i,list)){return i}}else{if(predicate(list[i],i,list)){return i}}}return-1},keys:function(){return new ArrayIterator(this,"key")},values:function(){return new ArrayIterator(this,"value")},entries:function(){return new ArrayIterator(this,"entry")}};if(Array.prototype.keys&&!ES.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ES.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[$iterator$]){defineProperties(Array.prototype,{values:Array.prototype[$iterator$]})}defineProperties(Array.prototype,ArrayPrototypeShims);addIterator(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){addIterator(Object.getPrototypeOf([].values()))}var maxSafeInteger=Math.pow(2,53)-1;defineProperties(Number,{MAX_SAFE_INTEGER:maxSafeInteger,MIN_SAFE_INTEGER:-maxSafeInteger,EPSILON:2.220446049250313e-16,parseInt:globals.parseInt,parseFloat:globals.parseFloat,isFinite:function(value){return typeof value==="number"&&global_isFinite(value)},isInteger:function(value){return Number.isFinite(value)&&ES.ToInteger(value)===value},isSafeInteger:function(value){return Number.isInteger(value)&&Math.abs(value)<=Number.MAX_SAFE_INTEGER},isNaN:function(value){return value!==value}});if(![,1].find(function(item,idx){return idx===0})){defineProperty(Array.prototype,"find",ArrayPrototypeShims.find,true)}if([,1].findIndex(function(item,idx){return idx===0})!==0){defineProperty(Array.prototype,"findIndex",ArrayPrototypeShims.findIndex,true)}if(supportsDescriptors){defineProperties(Object,{getPropertyDescriptor:function(subject,name){var pd=Object.getOwnPropertyDescriptor(subject,name);var proto=Object.getPrototypeOf(subject);while(typeof pd==="undefined"&&proto!==null){pd=Object.getOwnPropertyDescriptor(proto,name);proto=Object.getPrototypeOf(proto)}return pd},getPropertyNames:function(subject){var result=Object.getOwnPropertyNames(subject);var proto=Object.getPrototypeOf(subject);var addProperty=function(property){if(result.indexOf(property)===-1){result.push(property)}};while(proto!==null){Object.getOwnPropertyNames(proto).forEach(addProperty);proto=Object.getPrototypeOf(proto)}return result}});defineProperties(Object,{assign:function(target,source){if(!ES.TypeIsObject(target)){throw new TypeError("target must be an object")}return Array.prototype.reduce.call(arguments,function(target,source){return Object.keys(Object(source)).reduce(function(target,key){target[key]=source[key];return target},target)})},is:function(a,b){return ES.SameValue(a,b)},setPrototypeOf:function(Object,magic){var set;var checkArgs=function(O,proto){if(!ES.TypeIsObject(O)){throw new TypeError("cannot set prototype on a non-object")}if(!(proto===null||ES.TypeIsObject(proto))){throw new TypeError("can only set prototype to an object or null"+proto)}};var setPrototypeOf=function(O,proto){checkArgs(O,proto);set.call(O,proto);return O};try{set=Object.getOwnPropertyDescriptor(Object.prototype,magic).set;set.call({},null)}catch(e){if(Object.prototype!=={}[magic]){return}set=function(proto){this[magic]=proto};setPrototypeOf.polyfill=setPrototypeOf(setPrototypeOf({},null),Object.prototype)instanceof Object}return setPrototypeOf}(Object,"__proto__")})}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var FAKENULL=Object.create(null);var gpo=Object.getPrototypeOf,spo=Object.setPrototypeOf;Object.getPrototypeOf=function(o){var result=gpo(o);return result===FAKENULL?null:result};Object.setPrototypeOf=function(o,p){if(p===null){p=FAKENULL}return spo(o,p)};Object.setPrototypeOf.polyfill=false})()}try{Object.keys("foo")}catch(e){var originalObjectKeys=Object.keys;Object.keys=function(obj){return originalObjectKeys(ES.ToObject(obj))}}var MathShims={acosh:function(value){value=Number(value);if(Number.isNaN(value)||value<1){return NaN}if(value===1){return 0}if(value===Infinity){return value}return Math.log(value+Math.sqrt(value*value-1))},asinh:function(value){value=Number(value);if(value===0||!global_isFinite(value)){return value}return value<0?-Math.asinh(-value):Math.log(value+Math.sqrt(value*value+1))},atanh:function(value){value=Number(value);if(Number.isNaN(value)||value<-1||value>1){return NaN}if(value===-1){return-Infinity}if(value===1){return Infinity}if(value===0){return value}return.5*Math.log((1+value)/(1-value))},cbrt:function(value){value=Number(value);if(value===0){return value}var negate=value<0,result;if(negate){value=-value}result=Math.pow(value,1/3);return negate?-result:result},clz32:function(value){value=Number(value);var number=ES.ToUint32(value);if(number===0){return 32}return 32-number.toString(2).length},cosh:function(value){value=Number(value);if(value===0){return 1}if(Number.isNaN(value)){return NaN}if(!global_isFinite(value)){return Infinity}if(value<0){value=-value}if(value>21){return Math.exp(value)/2}return(Math.exp(value)+Math.exp(-value))/2},expm1:function(value){value=Number(value);if(value===-Infinity){return-1}if(!global_isFinite(value)||value===0){return value}return Math.exp(value)-1},hypot:function(x,y){var anyNaN=false;var allZero=true;var anyInfinity=false;var numbers=[];Array.prototype.every.call(arguments,function(arg){var num=Number(arg);if(Number.isNaN(num)){anyNaN=true}else if(num===Infinity||num===-Infinity){anyInfinity=true}else if(num!==0){allZero=false}if(anyInfinity){return false}else if(!anyNaN){numbers.push(Math.abs(num))}return true});if(anyInfinity){return Infinity}if(anyNaN){return NaN}if(allZero){return 0}numbers.sort(function(a,b){return b-a});var largest=numbers[0];var divided=numbers.map(function(number){return number/largest});var sum=divided.reduce(function(sum,number){return sum+=number*number},0);return largest*Math.sqrt(sum)},log2:function(value){return Math.log(value)*Math.LOG2E},log10:function(value){return Math.log(value)*Math.LOG10E},log1p:function(value){value=Number(value);if(value<-1||Number.isNaN(value)){return NaN}if(value===0||value===Infinity){return value}if(value===-1){return-Infinity}var result=0;var n=50;if(value<0||value>1){return Math.log(1+value)}for(var i=1;i<n;i++){if(i%2===0){result-=Math.pow(value,i)/i}else{result+=Math.pow(value,i)/i}}return result},sign:function(value){var number=+value;if(number===0){return number}if(Number.isNaN(number)){return number}return number<0?-1:1},sinh:function(value){value=Number(value);if(!global_isFinite(value)||value===0){return value}return(Math.exp(value)-Math.exp(-value))/2},tanh:function(value){value=Number(value);if(Number.isNaN(value)||value===0){return value}if(value===Infinity){return 1}if(value===-Infinity){return-1}return(Math.exp(value)-Math.exp(-value))/(Math.exp(value)+Math.exp(-value))},trunc:function(value){var number=Number(value);return number<0?-Math.floor(-number):Math.floor(number)},imul:function(x,y){x=ES.ToUint32(x);y=ES.ToUint32(y);var ah=x>>>16&65535;var al=x&65535;var bh=y>>>16&65535;var bl=y&65535;return al*bl+(ah*bl+al*bh<<16>>>0)|0},fround:function(x){if(x===0||x===Infinity||x===-Infinity||Number.isNaN(x)){return x}var num=Number(x);return numberConversion.toFloat32(num)}};defineProperties(Math,MathShims);if(Math.imul(4294967295,5)!==-5){Math.imul=MathShims.imul
}var PromiseShim=function(){var Promise,Promise$prototype;ES.IsPromise=function(promise){if(!ES.TypeIsObject(promise)){return false}if(!promise._promiseConstructor){return false}if(typeof promise._status==="undefined"){return false}return true};var PromiseCapability=function(C){if(!ES.IsCallable(C)){throw new TypeError("bad promise constructor")}var capability=this;var resolver=function(resolve,reject){capability.resolve=resolve;capability.reject=reject};capability.promise=ES.Construct(C,[resolver]);if(!capability.promise._es6construct){throw new TypeError("bad promise constructor")}if(!(ES.IsCallable(capability.resolve)&&ES.IsCallable(capability.reject))){throw new TypeError("bad promise constructor")}};var setTimeout=globals.setTimeout;var makeZeroTimeout;if(typeof window!=="undefined"&&ES.IsCallable(window.postMessage)){makeZeroTimeout=function(){var timeouts=[];var messageName="zero-timeout-message";var setZeroTimeout=function(fn){timeouts.push(fn);window.postMessage(messageName,"*")};var handleMessage=function(event){if(event.source==window&&event.data==messageName){event.stopPropagation();if(timeouts.length===0){return}var fn=timeouts.shift();fn()}};window.addEventListener("message",handleMessage,true);return setZeroTimeout}}var makePromiseAsap=function(){var P=globals.Promise;return P&&P.resolve&&function(task){return P.resolve().then(task)}};var enqueue=ES.IsCallable(globals.setImmediate)?globals.setImmediate.bind(globals):typeof process==="object"&&process.nextTick?process.nextTick:makePromiseAsap()||(ES.IsCallable(makeZeroTimeout)?makeZeroTimeout():function(task){setTimeout(task,0)});var triggerPromiseReactions=function(reactions,x){reactions.forEach(function(reaction){enqueue(function(){var handler=reaction.handler;var capability=reaction.capability;var resolve=capability.resolve;var reject=capability.reject;try{var result=handler(x);if(result===capability.promise){throw new TypeError("self resolution")}var updateResult=updatePromiseFromPotentialThenable(result,capability);if(!updateResult){resolve(result)}}catch(e){reject(e)}})})};var updatePromiseFromPotentialThenable=function(x,capability){if(!ES.TypeIsObject(x)){return false}var resolve=capability.resolve;var reject=capability.reject;try{var then=x.then;if(!ES.IsCallable(then)){return false}then.call(x,resolve,reject)}catch(e){reject(e)}return true};var promiseResolutionHandler=function(promise,onFulfilled,onRejected){return function(x){if(x===promise){return onRejected(new TypeError("self resolution"))}var C=promise._promiseConstructor;var capability=new PromiseCapability(C);var updateResult=updatePromiseFromPotentialThenable(x,capability);if(updateResult){return capability.promise.then(onFulfilled,onRejected)}else{return onFulfilled(x)}}};Promise=function(resolver){var promise=this;promise=emulateES6construct(promise);if(!promise._promiseConstructor){throw new TypeError("bad promise")}if(typeof promise._status!=="undefined"){throw new TypeError("promise already initialized")}if(!ES.IsCallable(resolver)){throw new TypeError("not a valid resolver")}promise._status="unresolved";promise._resolveReactions=[];promise._rejectReactions=[];var resolve=function(resolution){if(promise._status!=="unresolved"){return}var reactions=promise._resolveReactions;promise._result=resolution;promise._resolveReactions=void 0;promise._rejectReactions=void 0;promise._status="has-resolution";triggerPromiseReactions(reactions,resolution)};var reject=function(reason){if(promise._status!=="unresolved"){return}var reactions=promise._rejectReactions;promise._result=reason;promise._resolveReactions=void 0;promise._rejectReactions=void 0;promise._status="has-rejection";triggerPromiseReactions(reactions,reason)};try{resolver(resolve,reject)}catch(e){reject(e)}return promise};Promise$prototype=Promise.prototype;defineProperties(Promise,{"@@create":function(obj){var constructor=this;var prototype=constructor.prototype||Promise$prototype;obj=obj||create(prototype);defineProperties(obj,{_status:void 0,_result:void 0,_resolveReactions:void 0,_rejectReactions:void 0,_promiseConstructor:void 0});obj._promiseConstructor=constructor;return obj}});var _promiseAllResolver=function(index,values,capability,remaining){var done=false;return function(x){if(done){return}done=true;values[index]=x;if(--remaining.count===0){var resolve=capability.resolve;resolve(values)}}};Promise.all=function(iterable){var C=this;var capability=new PromiseCapability(C);var resolve=capability.resolve;var reject=capability.reject;try{if(!ES.IsIterable(iterable)){throw new TypeError("bad iterable")}var it=ES.GetIterator(iterable);var values=[],remaining={count:1};for(var index=0;;index++){var next=ES.IteratorNext(it);if(next.done){break}var nextPromise=C.resolve(next.value);var resolveElement=_promiseAllResolver(index,values,capability,remaining);remaining.count++;nextPromise.then(resolveElement,capability.reject)}if(--remaining.count===0){resolve(values)}}catch(e){reject(e)}return capability.promise};Promise.race=function(iterable){var C=this;var capability=new PromiseCapability(C);var resolve=capability.resolve;var reject=capability.reject;try{if(!ES.IsIterable(iterable)){throw new TypeError("bad iterable")}var it=ES.GetIterator(iterable);while(true){var next=ES.IteratorNext(it);if(next.done){break}var nextPromise=C.resolve(next.value);nextPromise.then(resolve,reject)}}catch(e){reject(e)}return capability.promise};Promise.reject=function(reason){var C=this;var capability=new PromiseCapability(C);var reject=capability.reject;reject(reason);return capability.promise};Promise.resolve=function(v){var C=this;if(ES.IsPromise(v)){var constructor=v._promiseConstructor;if(constructor===C){return v}}var capability=new PromiseCapability(C);var resolve=capability.resolve;resolve(v);return capability.promise};Promise.prototype["catch"]=function(onRejected){return this.then(void 0,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){var promise=this;if(!ES.IsPromise(promise)){throw new TypeError("not a promise")}var C=this.constructor;var capability=new PromiseCapability(C);if(!ES.IsCallable(onRejected)){onRejected=function(e){throw e}}if(!ES.IsCallable(onFulfilled)){onFulfilled=function(x){return x}}var resolutionHandler=promiseResolutionHandler(promise,onFulfilled,onRejected);var resolveReaction={capability:capability,handler:resolutionHandler};var rejectReaction={capability:capability,handler:onRejected};switch(promise._status){case"unresolved":promise._resolveReactions.push(resolveReaction);promise._rejectReactions.push(rejectReaction);break;case"has-resolution":triggerPromiseReactions([resolveReaction],promise._result);break;case"has-rejection":triggerPromiseReactions([rejectReaction],promise._result);break;default:throw new TypeError("unexpected")}return capability.promise};return Promise}();if(globals.Promise){delete globals.Promise.accept;delete globals.Promise.defer;delete globals.Promise.prototype.chain}defineProperties(globals,{Promise:PromiseShim});var promiseSupportsSubclassing=supportsSubclassing(globals.Promise,function(S){return S.resolve(42)instanceof S});var promiseIgnoresNonFunctionThenCallbacks=function(){try{globals.Promise.reject(42).then(null,5).then(null,function(){});return true}catch(ex){return false}}();var promiseRequiresObjectContext=function(){try{Promise.call(3,function(){})}catch(e){return true}return false}();if(!promiseSupportsSubclassing||!promiseIgnoresNonFunctionThenCallbacks||!promiseRequiresObjectContext){globals.Promise=PromiseShim}var testOrder=function(a){var b=Object.keys(a.reduce(function(o,k){o[k]=true;return o},{}));return a.join(":")===b.join(":")};var preservesInsertionOrder=testOrder(["z","a","bb"]);var preservesNumericInsertionOrder=testOrder(["z",1,"a","3",2]);if(supportsDescriptors){var fastkey=function fastkey(key){if(!preservesInsertionOrder){return null}var type=typeof key;if(type==="string"){return"$"+key}else if(type==="number"){if(!preservesNumericInsertionOrder){return"n"+key}return key}return null};var emptyObject=function emptyObject(){return Object.create?Object.create(null):{}};var collectionShims={Map:function(){var empty={};function MapEntry(key,value){this.key=key;this.value=value;this.next=null;this.prev=null}MapEntry.prototype.isRemoved=function(){return this.key===empty};function MapIterator(map,kind){this.head=map._head;this.i=this.head;this.kind=kind}MapIterator.prototype={next:function(){var i=this.i,kind=this.kind,head=this.head,result;if(typeof this.i==="undefined"){return{value:void 0,done:true}}while(i.isRemoved()&&i!==head){i=i.prev}while(i.next!==head){i=i.next;if(!i.isRemoved()){if(kind==="key"){result=i.key}else if(kind==="value"){result=i.value}else{result=[i.key,i.value]}this.i=i;return{value:result,done:false}}}this.i=void 0;return{value:void 0,done:true}}};addIterator(MapIterator.prototype);function Map(iterable){var map=this;if(!ES.TypeIsObject(map)){throw new TypeError("Map does not accept arguments when called as a function")}map=emulateES6construct(map);if(!map._es6map){throw new TypeError("bad map")}var head=new MapEntry(null,null);head.next=head.prev=head;defineProperties(map,{_head:head,_storage:emptyObject(),_size:0});if(typeof iterable!=="undefined"&&iterable!==null){var it=ES.GetIterator(iterable);var adder=map.set;if(!ES.IsCallable(adder)){throw new TypeError("bad map")}while(true){var next=ES.IteratorNext(it);if(next.done){break}var nextItem=next.value;if(!ES.TypeIsObject(nextItem)){throw new TypeError("expected iterable of pairs")}adder.call(map,nextItem[0],nextItem[1])}}return map}var Map$prototype=Map.prototype;defineProperties(Map,{"@@create":function(obj){var constructor=this;var prototype=constructor.prototype||Map$prototype;obj=obj||create(prototype);defineProperties(obj,{_es6map:true});return obj}});Object.defineProperty(Map.prototype,"size",{configurable:true,enumerable:false,get:function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size}});defineProperties(Map.prototype,{get:function(key){var fkey=fastkey(key);if(fkey!==null){var entry=this._storage[fkey];if(entry){return entry.value}else{return}}var head=this._head,i=head;while((i=i.next)!==head){if(ES.SameValueZero(i.key,key)){return i.value}}return},has:function(key){var fkey=fastkey(key);if(fkey!==null){return typeof this._storage[fkey]!=="undefined"}var head=this._head,i=head;while((i=i.next)!==head){if(ES.SameValueZero(i.key,key)){return true}}return false},set:function(key,value){var head=this._head,i=head,entry;var fkey=fastkey(key);if(fkey!==null){if(typeof this._storage[fkey]!=="undefined"){this._storage[fkey].value=value;return this}else{entry=this._storage[fkey]=new MapEntry(key,value);i=head.prev}}while((i=i.next)!==head){if(ES.SameValueZero(i.key,key)){i.value=value;return this}}entry=entry||new MapEntry(key,value);if(ES.SameValue(-0,key)){entry.key=+0}entry.next=this._head;entry.prev=this._head.prev;entry.prev.next=entry;entry.next.prev=entry;this._size+=1;return this},"delete":function(key){var head=this._head,i=head;var fkey=fastkey(key);if(fkey!==null){if(typeof this._storage[fkey]==="undefined"){return false}i=this._storage[fkey].prev;delete this._storage[fkey]}while((i=i.next)!==head){if(ES.SameValueZero(i.key,key)){i.key=i.value=empty;i.prev.next=i.next;i.next.prev=i.prev;this._size-=1;return true}}return false},clear:function(){this._size=0;this._storage=emptyObject();var head=this._head,i=head,p=i.next;while((i=p)!==head){i.key=i.value=empty;p=i.next;i.next=i.prev=head}head.next=head.prev=head},keys:function(){return new MapIterator(this,"key")},values:function(){return new MapIterator(this,"value")},entries:function(){return new MapIterator(this,"key+value")},forEach:function(callback){var context=arguments.length>1?arguments[1]:null;var it=this.entries();for(var entry=it.next();!entry.done;entry=it.next()){if(context){callback.call(context,entry.value[1],entry.value[0],this)}else{callback(entry.value[1],entry.value[0],this)}}}});addIterator(Map.prototype,function(){return this.entries()});return Map}(),Set:function(){var SetShim=function Set(iterable){var set=this;if(!ES.TypeIsObject(set)){throw new TypeError("Set does not accept arguments when called as a function")}set=emulateES6construct(set);if(!set._es6set){throw new TypeError("bad set")}defineProperties(set,{"[[SetData]]":null,_storage:emptyObject()});if(typeof iterable!=="undefined"&&iterable!==null){var it=ES.GetIterator(iterable);var adder=set.add;if(!ES.IsCallable(adder)){throw new TypeError("bad set")}while(true){var next=ES.IteratorNext(it);if(next.done){break}var nextItem=next.value;adder.call(set,nextItem)}}return set};var Set$prototype=SetShim.prototype;defineProperties(SetShim,{"@@create":function(obj){var constructor=this;var prototype=constructor.prototype||Set$prototype;obj=obj||create(prototype);defineProperties(obj,{_es6set:true});return obj}});var ensureMap=function ensureMap(set){if(!set["[[SetData]]"]){var m=set["[[SetData]]"]=new collectionShims.Map;Object.keys(set._storage).forEach(function(k){if(k.charCodeAt(0)===36){k=k.slice(1)}else if(k.charAt(0)==="n"){k=+k.slice(1)}else{k=+k}m.set(k,k)});set._storage=null}};Object.defineProperty(SetShim.prototype,"size",{configurable:true,enumerable:false,get:function(){if(typeof this._storage==="undefined"){throw new TypeError("size method called on incompatible Set")}ensureMap(this);return this["[[SetData]]"].size}});defineProperties(SetShim.prototype,{has:function(key){var fkey;if(this._storage&&(fkey=fastkey(key))!==null){return!!this._storage[fkey]}ensureMap(this);return this["[[SetData]]"].has(key)},add:function(key){var fkey;if(this._storage&&(fkey=fastkey(key))!==null){this._storage[fkey]=true;return this}ensureMap(this);this["[[SetData]]"].set(key,key);return this},"delete":function(key){var fkey;if(this._storage&&(fkey=fastkey(key))!==null){var hasFKey=_hasOwnProperty.call(this._storage,fkey);return delete this._storage[fkey]&&hasFKey}ensureMap(this);return this["[[SetData]]"]["delete"](key)},clear:function(){if(this._storage){this._storage=emptyObject();return}return this["[[SetData]]"].clear()},values:function(){ensureMap(this);return this["[[SetData]]"].values()},entries:function(){ensureMap(this);return this["[[SetData]]"].entries()},forEach:function(callback){var context=arguments.length>1?arguments[1]:null;var entireSet=this;ensureMap(entireSet);this["[[SetData]]"].forEach(function(value,key){if(context){callback.call(context,key,key,entireSet)}else{callback(key,key,entireSet)}})}});defineProperty(SetShim,"keys",SetShim.values,true);addIterator(SetShim.prototype,function(){return this.values()});return SetShim}()};defineProperties(globals,collectionShims);if(globals.Map||globals.Set){if(typeof globals.Map.prototype.clear!=="function"||(new globals.Set).size!==0||(new globals.Map).size!==0||typeof globals.Map.prototype.keys!=="function"||typeof globals.Set.prototype.keys!=="function"||typeof globals.Map.prototype.forEach!=="function"||typeof globals.Set.prototype.forEach!=="function"||isCallableWithoutNew(globals.Map)||isCallableWithoutNew(globals.Set)||!supportsSubclassing(globals.Map,function(M){var m=new M([]);m.set(42,42);return m instanceof M})){globals.Map=collectionShims.Map;globals.Set=collectionShims.Set}}if(globals.Set.prototype.keys!==globals.Set.prototype.values){defineProperty(globals.Set.prototype,"keys",globals.Set.prototype.values,true)}addIterator(Object.getPrototypeOf((new globals.Map).keys()));addIterator(Object.getPrototypeOf((new globals.Set).keys()))}return globals})}).call(this,require("_process"))},{_process:3}],5:[function(require,module,exports){"use strict";if(!require("./is-implemented")()){Object.defineProperty(require("es5-ext/global"),"Symbol",{value:require("./polyfill"),configurable:true,enumerable:false,writable:true})}},{"./is-implemented":6,"./polyfill":21,"es5-ext/global":8}],6:[function(require,module,exports){"use strict";module.exports=function(){var symbol;if(typeof Symbol!=="function")return false;symbol=Symbol("test symbol");try{String(symbol)}catch(e){return false}if(typeof Symbol.iterator==="symbol")return true;if(typeof Symbol.isConcatSpreadable!=="object")return false;if(typeof Symbol.isRegExp!=="object")return false;if(typeof Symbol.iterator!=="object")return false;if(typeof Symbol.toPrimitive!=="object")return false;if(typeof Symbol.toStringTag!=="object")return false;if(typeof Symbol.unscopables!=="object")return false;return true}},{}],7:[function(require,module,exports){"use strict";var assign=require("es5-ext/object/assign"),normalizeOpts=require("es5-ext/object/normalize-options"),isCallable=require("es5-ext/object/is-callable"),contains=require("es5-ext/string/#/contains"),d;d=module.exports=function(dscr,value){var c,e,w,options,desc;if(arguments.length<2||typeof dscr!=="string"){options=value;value=dscr;dscr=null}else{options=arguments[2]}if(dscr==null){c=w=true;e=false}else{c=contains.call(dscr,"c");e=contains.call(dscr,"e");w=contains.call(dscr,"w")}desc={value:value,configurable:c,enumerable:e,writable:w};return!options?desc:assign(normalizeOpts(options),desc)};d.gs=function(dscr,get,set){var c,e,options,desc;if(typeof dscr!=="string"){options=set;set=get;get=dscr;dscr=null}else{options=arguments[3]}if(get==null){get=undefined}else if(!isCallable(get)){options=get;get=set=undefined}else if(set==null){set=undefined}else if(!isCallable(set)){options=set;set=undefined}if(dscr==null){c=true;e=false}else{c=contains.call(dscr,"c");e=contains.call(dscr,"e")}desc={get:get,set:set,configurable:c,enumerable:e};return!options?desc:assign(normalizeOpts(options),desc)}},{"es5-ext/object/assign":9,"es5-ext/object/is-callable":12,"es5-ext/object/normalize-options":16,"es5-ext/string/#/contains":18}],8:[function(require,module,exports){"use strict";module.exports=new Function("return this")()},{}],9:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Object.assign:require("./shim")},{"./is-implemented":10,"./shim":11}],10:[function(require,module,exports){"use strict";module.exports=function(){var assign=Object.assign,obj;if(typeof assign!=="function")return false;obj={foo:"raz"};assign(obj,{bar:"dwa"},{trzy:"trzy"});return obj.foo+obj.bar+obj.trzy==="razdwatrzy"}},{}],11:[function(require,module,exports){"use strict";var keys=require("../keys"),value=require("../valid-value"),max=Math.max;module.exports=function(dest,src){var error,i,l=max(arguments.length,2),assign;dest=Object(value(dest));assign=function(key){try{dest[key]=src[key]}catch(e){if(!error)error=e}};for(i=1;i<l;++i){src=arguments[i];keys(src).forEach(assign)}if(error!==undefined)throw error;return dest}},{"../keys":13,"../valid-value":17}],12:[function(require,module,exports){"use strict";module.exports=function(obj){return typeof obj==="function"}},{}],13:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Object.keys:require("./shim")},{"./is-implemented":14,"./shim":15}],14:[function(require,module,exports){"use strict";module.exports=function(){try{Object.keys("primitive");return true}catch(e){return false}}},{}],15:[function(require,module,exports){"use strict";var keys=Object.keys;module.exports=function(object){return keys(object==null?object:Object(object))}},{}],16:[function(require,module,exports){"use strict";var assign=require("./assign"),forEach=Array.prototype.forEach,create=Object.create,getPrototypeOf=Object.getPrototypeOf,process;process=function(src,obj){var proto=getPrototypeOf(src);return assign(proto?process(proto,obj):obj,src)};module.exports=function(options){var result=create(null);forEach.call(arguments,function(options){if(options==null)return;process(Object(options),result)});return result}},{"./assign":9}],17:[function(require,module,exports){"use strict";module.exports=function(value){if(value==null)throw new TypeError("Cannot use null or undefined");return value}},{}],18:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?String.prototype.contains:require("./shim")},{"./is-implemented":19,"./shim":20}],19:[function(require,module,exports){"use strict";var str="razdwatrzy";module.exports=function(){if(typeof str.contains!=="function")return false;return str.contains("dwa")===true&&str.contains("foo")===false}},{}],20:[function(require,module,exports){"use strict";var indexOf=String.prototype.indexOf;module.exports=function(searchString){return indexOf.call(this,searchString,arguments[1])>-1}},{}],21:[function(require,module,exports){"use strict";var d=require("d"),create=Object.create,defineProperties=Object.defineProperties,generateName,Symbol;generateName=function(){var created=create(null);return function(desc){var postfix=0;while(created[desc+(postfix||"")])++postfix;desc+=postfix||"";created[desc]=true;return"@@"+desc}}();module.exports=Symbol=function(description){var symbol;if(this instanceof Symbol){throw new TypeError("TypeError: Symbol is not a constructor")}symbol=create(Symbol.prototype);description=description===undefined?"":String(description);return defineProperties(symbol,{__description__:d("",description),__name__:d("",generateName(description))})};Object.defineProperties(Symbol,{create:d("",Symbol("create")),hasInstance:d("",Symbol("hasInstance")),isConcatSpreadable:d("",Symbol("isConcatSpreadable")),isRegExp:d("",Symbol("isRegExp")),iterator:d("",Symbol("iterator")),toPrimitive:d("",Symbol("toPrimitive")),toStringTag:d("",Symbol("toStringTag")),unscopables:d("",Symbol("unscopables"))});defineProperties(Symbol.prototype,{properToString:d(function(){return"Symbol ("+this.__description__+")"}),toString:d("",function(){return this.__name__})});Object.defineProperty(Symbol.prototype,Symbol.toPrimitive,d("",function(hint){throw new TypeError("Conversion of symbol objects is not allowed")}));Object.defineProperty(Symbol.prototype,Symbol.toStringTag,d("c","Symbol"))},{d:7}]},{},[1]);
},{}],3:[function(require,module,exports){
(function (global){
(function(global){var to5Runtime=global.to5Runtime={};to5Runtime.extends=function(child,parent){child.prototype=Object.create(parent.prototype,{constructor:{value:child,enumerable:false,writable:true,configurable:true}});child.__proto__=parent};to5Runtime.classProps=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};to5Runtime.applyConstructor=function(Constructor,args){var instance=Object.create(Constructor.prototype);var result=Constructor.apply(instance,args);return result!=null&&(typeof result=="object"||typeof result=="function")?result:instance};to5Runtime.taggedTemplateLiteral=function(strings,raw){return Object.defineProperties(strings,{raw:{value:raw}})};to5Runtime.interopRequire=function(obj){return obj&&(obj["default"]||obj)};to5Runtime.toArray=function(arr){return Array.isArray(arr)?arr:Array.from(arr)};to5Runtime.objectSpread=function(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target};to5Runtime.hasOwn=Object.prototype.hasOwnProperty;to5Runtime.slice=Array.prototype.slice})(typeof global==="undefined"?self:global);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],4:[function(require,module,exports){
"use strict";

exports["default"] = function (foo, bar) {
  var qux = to5Runtime.slice.call(arguments, 2);

  if (bar === undefined) bar = "baz";
  return "bar!";
};

},{}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvYTEzMDQyL0Ryb3Bib3gvUGxheWdyb3VuZC9lczYtS2FtZWl0YS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy82dG81L2Jyb3dzZXItcG9seWZpbGwuanMiLCJub2RlX21vZHVsZXMvNnRvNS9ydW50aW1lLmpzIiwiL1VzZXJzL2ExMzA0Mi9Ecm9wYm94L1BsYXlncm91bmQvZXM2LUthbWVpdGEvc3JjL2Zvby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0lDTU8sT0FBTztJQU1QLFFBQVE7SUFHUixHQUFHOzs7QUNmVjtBQUNBOztBQ0RBO0FBQ0E7QUFDQTs7OztxQkNBZSxVQUFTLEdBQUcsRUFBRSxHQUFHLEVBQWtCO01BQUwsR0FBRzs7TUFBbkIsR0FBRyxnQkFBSCxHQUFHLEdBQUcsS0FBSztBQUN0QyxTQUFPLE1BQU0sQ0FBQztDQUNmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBpZiB5b3Ugd2FudCB0byB1c2luZyBgdG81UnVudGltZWBcbiAqIEBzZWUgaHR0cHM6Ly82dG81Lm9yZy9vcHRpb25hbC1ydW50aW1lLmh0bWxcbiAqL1xuaW1wb3J0IHJ1bnRpbWUgZnJvbSAnNnRvNS9ydW50aW1lJ1xuXG4vKipcbiAqIGlmIHVzaW5nIGEgZmVhdHVyZSB0aGF0IHJlcXVpcmVzIGEgYnJvd3Nlci1wb2x5ZmlsbFxuICogQHNlZSBodHRwczovLzZ0bzUub3JnL3BvbHlmaWxsLmh0bWxcbiAqL1xuaW1wb3J0IHBvbHlmaWxsIGZyb20gJzZ0bzUvYnJvd3Nlci1wb2x5ZmlsbCdcblxuLy8geW91ciBwcm9qZWN0IG1vZHVsZS4uLlxuaW1wb3J0IGZvbyBmcm9tICcuL3NyYy9mb28nO1xuIiwiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpe3ZhciBlbnN1cmVTeW1ib2w9ZnVuY3Rpb24oa2V5KXtTeW1ib2xba2V5XT1TeW1ib2xba2V5XXx8U3ltYm9sKCl9O3ZhciBlbnN1cmVQcm90bz1mdW5jdGlvbihDb25zdHJ1Y3RvcixrZXksdmFsKXt2YXIgcHJvdG89Q29uc3RydWN0b3IucHJvdG90eXBlO3Byb3RvW2tleV09cHJvdG9ba2V5XXx8dmFsfTtpZih0eXBlb2YgU3ltYm9sPT09XCJ1bmRlZmluZWRcIil7cmVxdWlyZShcImVzNi1zeW1ib2wvaW1wbGVtZW50XCIpfXJlcXVpcmUoXCJlczYtc2hpbVwiKTtyZXF1aXJlKFwiLi90cmFuc2Zvcm1hdGlvbi90cmFuc2Zvcm1lcnMvZXM2LWdlbmVyYXRvcnMvcnVudGltZVwiKTtlbnN1cmVTeW1ib2woXCJyZWZlcmVuY2VHZXRcIik7ZW5zdXJlU3ltYm9sKFwicmVmZXJlbmNlU2V0XCIpO2Vuc3VyZVN5bWJvbChcInJlZmVyZW5jZURlbGV0ZVwiKTtlbnN1cmVQcm90byhGdW5jdGlvbixTeW1ib2wucmVmZXJlbmNlR2V0LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KTtlbnN1cmVQcm90byhNYXAsU3ltYm9sLnJlZmVyZW5jZUdldCxNYXAucHJvdG90eXBlLmdldCk7ZW5zdXJlUHJvdG8oTWFwLFN5bWJvbC5yZWZlcmVuY2VTZXQsTWFwLnByb3RvdHlwZS5zZXQpO2Vuc3VyZVByb3RvKE1hcCxTeW1ib2wucmVmZXJlbmNlRGVsZXRlLE1hcC5wcm90b3R5cGUuZGVsZXRlKTtpZihnbG9iYWwuV2Vha01hcCl7ZW5zdXJlUHJvdG8oV2Vha01hcCxTeW1ib2wucmVmZXJlbmNlR2V0LFdlYWtNYXAucHJvdG90eXBlLmdldCk7ZW5zdXJlUHJvdG8oV2Vha01hcCxTeW1ib2wucmVmZXJlbmNlU2V0LFdlYWtNYXAucHJvdG90eXBlLnNldCk7ZW5zdXJlUHJvdG8oV2Vha01hcCxTeW1ib2wucmVmZXJlbmNlRGVsZXRlLFdlYWtNYXAucHJvdG90eXBlLmRlbGV0ZSl9fSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiP2dsb2JhbDp0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCI/c2VsZjp0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIj93aW5kb3c6e30pfSx7XCIuL3RyYW5zZm9ybWF0aW9uL3RyYW5zZm9ybWVycy9lczYtZ2VuZXJhdG9ycy9ydW50aW1lXCI6MixcImVzNi1zaGltXCI6NCxcImVzNi1zeW1ib2wvaW1wbGVtZW50XCI6NX1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpe3ZhciBpdGVyYXRvclN5bWJvbD10eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZTeW1ib2wuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiO3ZhciBydW50aW1lPWdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU9ZXhwb3J0czt2YXIgaGFzT3duPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIHdyYXA9cnVudGltZS53cmFwPWZ1bmN0aW9uIHdyYXAoaW5uZXJGbixvdXRlckZuLHNlbGYsdHJ5TGlzdCl7cmV0dXJuIG5ldyBHZW5lcmF0b3IoaW5uZXJGbixvdXRlckZuLHNlbGZ8fG51bGwsdHJ5TGlzdHx8W10pfTt2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydD1cInN1c3BlbmRlZFN0YXJ0XCI7dmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQ9XCJzdXNwZW5kZWRZaWVsZFwiO3ZhciBHZW5TdGF0ZUV4ZWN1dGluZz1cImV4ZWN1dGluZ1wiO3ZhciBHZW5TdGF0ZUNvbXBsZXRlZD1cImNvbXBsZXRlZFwiO3ZhciBDb250aW51ZVNlbnRpbmVsPXt9O2Z1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCl7fXZhciBHRnA9ZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKXt9O3ZhciBHcD1HRnAucHJvdG90eXBlPUdlbmVyYXRvci5wcm90b3R5cGU7KEdGcC5jb25zdHJ1Y3Rvcj1HZW5lcmF0b3JGdW5jdGlvbikucHJvdG90eXBlPUdwLmNvbnN0cnVjdG9yPUdGcDtydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZ2VuRnVuKXt2YXIgY3Rvcj1nZW5GdW4mJmdlbkZ1bi5jb25zdHJ1Y3RvcjtyZXR1cm4gY3Rvcj9HZW5lcmF0b3JGdW5jdGlvbi5uYW1lPT09Y3Rvci5uYW1lOmZhbHNlfTtydW50aW1lLm1hcms9ZnVuY3Rpb24oZ2VuRnVuKXtnZW5GdW4uX19wcm90b19fPUdGcDtnZW5GdW4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoR3ApO3JldHVybiBnZW5GdW59O3J1bnRpbWUuYXN5bmM9ZnVuY3Rpb24oaW5uZXJGbixvdXRlckZuLHNlbGYsdHJ5TGlzdCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgZ2VuZXJhdG9yPXdyYXAoaW5uZXJGbixvdXRlckZuLHNlbGYsdHJ5TGlzdCk7dmFyIGNhbGxOZXh0PXN0ZXAuYmluZChnZW5lcmF0b3IubmV4dCk7dmFyIGNhbGxUaHJvdz1zdGVwLmJpbmQoZ2VuZXJhdG9yW1widGhyb3dcIl0pO2Z1bmN0aW9uIHN0ZXAoYXJnKXt2YXIgaW5mbzt2YXIgdmFsdWU7dHJ5e2luZm89dGhpcyhhcmcpO3ZhbHVlPWluZm8udmFsdWV9Y2F0Y2goZXJyb3Ipe3JldHVybiByZWplY3QoZXJyb3IpfWlmKGluZm8uZG9uZSl7cmVzb2x2ZSh2YWx1ZSl9ZWxzZXtQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oY2FsbE5leHQsY2FsbFRocm93KX19Y2FsbE5leHQoKX0pfTtmdW5jdGlvbiBHZW5lcmF0b3IoaW5uZXJGbixvdXRlckZuLHNlbGYsdHJ5TGlzdCl7dmFyIGdlbmVyYXRvcj1vdXRlckZuP09iamVjdC5jcmVhdGUob3V0ZXJGbi5wcm90b3R5cGUpOnRoaXM7dmFyIGNvbnRleHQ9bmV3IENvbnRleHQodHJ5TGlzdCk7dmFyIHN0YXRlPUdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7ZnVuY3Rpb24gaW52b2tlKG1ldGhvZCxhcmcpe2lmKHN0YXRlPT09R2VuU3RhdGVFeGVjdXRpbmcpe3Rocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIil9aWYoc3RhdGU9PT1HZW5TdGF0ZUNvbXBsZXRlZCl7dGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGhhcyBhbHJlYWR5IGZpbmlzaGVkXCIpfXdoaWxlKHRydWUpe3ZhciBkZWxlZ2F0ZT1jb250ZXh0LmRlbGVnYXRlO3ZhciBpbmZvO2lmKGRlbGVnYXRlKXt0cnl7aW5mbz1kZWxlZ2F0ZS5pdGVyYXRvclttZXRob2RdKGFyZyk7bWV0aG9kPVwibmV4dFwiO2FyZz11bmRlZmluZWR9Y2F0Y2godW5jYXVnaHQpe2NvbnRleHQuZGVsZWdhdGU9bnVsbDttZXRob2Q9XCJ0aHJvd1wiO2FyZz11bmNhdWdodDtjb250aW51ZX1pZihpbmZvLmRvbmUpe2NvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV09aW5mby52YWx1ZTtjb250ZXh0Lm5leHQ9ZGVsZWdhdGUubmV4dExvY31lbHNle3N0YXRlPUdlblN0YXRlU3VzcGVuZGVkWWllbGQ7cmV0dXJuIGluZm99Y29udGV4dC5kZWxlZ2F0ZT1udWxsfWlmKG1ldGhvZD09PVwibmV4dFwiKXtpZihzdGF0ZT09PUdlblN0YXRlU3VzcGVuZGVkU3RhcnQmJnR5cGVvZiBhcmchPT1cInVuZGVmaW5lZFwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdCB0byBzZW5kIFwiK0pTT04uc3RyaW5naWZ5KGFyZykrXCIgdG8gbmV3Ym9ybiBnZW5lcmF0b3JcIil9aWYoc3RhdGU9PT1HZW5TdGF0ZVN1c3BlbmRlZFlpZWxkKXtjb250ZXh0LnNlbnQ9YXJnfWVsc2V7ZGVsZXRlIGNvbnRleHQuc2VudH19ZWxzZSBpZihtZXRob2Q9PT1cInRocm93XCIpe2lmKHN0YXRlPT09R2VuU3RhdGVTdXNwZW5kZWRTdGFydCl7c3RhdGU9R2VuU3RhdGVDb21wbGV0ZWQ7dGhyb3cgYXJnfWlmKGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oYXJnKSl7bWV0aG9kPVwibmV4dFwiO2FyZz11bmRlZmluZWR9fWVsc2UgaWYobWV0aG9kPT09XCJyZXR1cm5cIil7Y29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIixhcmcpfXN0YXRlPUdlblN0YXRlRXhlY3V0aW5nO3RyeXt2YXIgdmFsdWU9aW5uZXJGbi5jYWxsKHNlbGYsY29udGV4dCk7c3RhdGU9Y29udGV4dC5kb25lP0dlblN0YXRlQ29tcGxldGVkOkdlblN0YXRlU3VzcGVuZGVkWWllbGQ7aW5mbz17dmFsdWU6dmFsdWUsZG9uZTpjb250ZXh0LmRvbmV9O2lmKHZhbHVlPT09Q29udGludWVTZW50aW5lbCl7aWYoY29udGV4dC5kZWxlZ2F0ZSYmbWV0aG9kPT09XCJuZXh0XCIpe2FyZz11bmRlZmluZWR9fWVsc2V7cmV0dXJuIGluZm99fWNhdGNoKHRocm93bil7c3RhdGU9R2VuU3RhdGVDb21wbGV0ZWQ7aWYobWV0aG9kPT09XCJuZXh0XCIpe2NvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24odGhyb3duKX1lbHNle2FyZz10aHJvd259fX19Z2VuZXJhdG9yLm5leHQ9aW52b2tlLmJpbmQoZ2VuZXJhdG9yLFwibmV4dFwiKTtnZW5lcmF0b3JbXCJ0aHJvd1wiXT1pbnZva2UuYmluZChnZW5lcmF0b3IsXCJ0aHJvd1wiKTtnZW5lcmF0b3JbXCJyZXR1cm5cIl09aW52b2tlLmJpbmQoZ2VuZXJhdG9yLFwicmV0dXJuXCIpO3JldHVybiBnZW5lcmF0b3J9R3BbaXRlcmF0b3JTeW1ib2xdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O0dwLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn07ZnVuY3Rpb24gcHVzaFRyeUVudHJ5KHRyaXBsZSl7dmFyIGVudHJ5PXt0cnlMb2M6dHJpcGxlWzBdfTtpZigxIGluIHRyaXBsZSl7ZW50cnkuY2F0Y2hMb2M9dHJpcGxlWzFdfWlmKDIgaW4gdHJpcGxlKXtlbnRyeS5maW5hbGx5TG9jPXRyaXBsZVsyXX10aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSl9ZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSxpKXt2YXIgcmVjb3JkPWVudHJ5LmNvbXBsZXRpb258fHt9O3JlY29yZC50eXBlPWk9PT0wP1wibm9ybWFsXCI6XCJyZXR1cm5cIjtkZWxldGUgcmVjb3JkLmFyZztlbnRyeS5jb21wbGV0aW9uPXJlY29yZH1mdW5jdGlvbiBDb250ZXh0KHRyeUxpc3Qpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dO3RyeUxpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksdGhpcyk7dGhpcy5yZXNldCgpfXJ1bnRpbWUua2V5cz1mdW5jdGlvbihvYmplY3Qpe3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIG9iamVjdCl7a2V5cy5wdXNoKGtleSl9a2V5cy5yZXZlcnNlKCk7cmV0dXJuIGZ1bmN0aW9uIG5leHQoKXt3aGlsZShrZXlzLmxlbmd0aCl7dmFyIGtleT1rZXlzLnBvcCgpO2lmKGtleSBpbiBvYmplY3Qpe25leHQudmFsdWU9a2V5O25leHQuZG9uZT1mYWxzZTtyZXR1cm4gbmV4dH19bmV4dC5kb25lPXRydWU7cmV0dXJuIG5leHR9fTtmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpe3ZhciBpdGVyYXRvcj1pdGVyYWJsZTtpZihpdGVyYXRvclN5bWJvbCBpbiBpdGVyYWJsZSl7aXRlcmF0b3I9aXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdKCl9ZWxzZSBpZighaXNOYU4oaXRlcmFibGUubGVuZ3RoKSl7dmFyIGk9LTE7aXRlcmF0b3I9ZnVuY3Rpb24gbmV4dCgpe3doaWxlKCsraTxpdGVyYWJsZS5sZW5ndGgpe2lmKGkgaW4gaXRlcmFibGUpe25leHQudmFsdWU9aXRlcmFibGVbaV07bmV4dC5kb25lPWZhbHNlO3JldHVybiBuZXh0fX1uZXh0LmRvbmU9dHJ1ZTtyZXR1cm4gbmV4dH07aXRlcmF0b3IubmV4dD1pdGVyYXRvcn1yZXR1cm4gaXRlcmF0b3J9cnVudGltZS52YWx1ZXM9dmFsdWVzO0NvbnRleHQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpDb250ZXh0LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5wcmV2PTA7dGhpcy5uZXh0PTA7dGhpcy5zZW50PXVuZGVmaW5lZDt0aGlzLmRvbmU9ZmFsc2U7dGhpcy5kZWxlZ2F0ZT1udWxsO3RoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO2Zvcih2YXIgdGVtcEluZGV4PTAsdGVtcE5hbWU7aGFzT3duLmNhbGwodGhpcyx0ZW1wTmFtZT1cInRcIit0ZW1wSW5kZXgpfHx0ZW1wSW5kZXg8MjA7Kyt0ZW1wSW5kZXgpe3RoaXNbdGVtcE5hbWVdPW51bGx9fSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPXRydWU7dmFyIHJvb3RFbnRyeT10aGlzLnRyeUVudHJpZXNbMF07dmFyIHJvb3RSZWNvcmQ9cm9vdEVudHJ5LmNvbXBsZXRpb247aWYocm9vdFJlY29yZC50eXBlPT09XCJ0aHJvd1wiKXt0aHJvdyByb290UmVjb3JkLmFyZ31yZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihleGNlcHRpb24pe2lmKHRoaXMuZG9uZSl7dGhyb3cgZXhjZXB0aW9ufXZhciBjb250ZXh0PXRoaXM7ZnVuY3Rpb24gaGFuZGxlKGxvYyxjYXVnaHQpe3JlY29yZC50eXBlPVwidGhyb3dcIjtyZWNvcmQuYXJnPWV4Y2VwdGlvbjtjb250ZXh0Lm5leHQ9bG9jO3JldHVybiEhY2F1Z2h0fWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBlbnRyeT10aGlzLnRyeUVudHJpZXNbaV07dmFyIHJlY29yZD1lbnRyeS5jb21wbGV0aW9uO2lmKGVudHJ5LnRyeUxvYz09PVwicm9vdFwiKXtyZXR1cm4gaGFuZGxlKFwiZW5kXCIpfWlmKGVudHJ5LnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgaGFzQ2F0Y2g9aGFzT3duLmNhbGwoZW50cnksXCJjYXRjaExvY1wiKTt2YXIgaGFzRmluYWxseT1oYXNPd24uY2FsbChlbnRyeSxcImZpbmFsbHlMb2NcIik7aWYoaGFzQ2F0Y2gmJmhhc0ZpbmFsbHkpe2lmKHRoaXMucHJldjxlbnRyeS5jYXRjaExvYyl7cmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYyx0cnVlKX1lbHNlIGlmKHRoaXMucHJldjxlbnRyeS5maW5hbGx5TG9jKXtyZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpfX1lbHNlIGlmKGhhc0NhdGNoKXtpZih0aGlzLnByZXY8ZW50cnkuY2F0Y2hMb2Mpe3JldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsdHJ1ZSl9fWVsc2UgaWYoaGFzRmluYWxseSl7aWYodGhpcy5wcmV2PGVudHJ5LmZpbmFsbHlMb2Mpe3JldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyl9fWVsc2V7dGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIil9fX19LF9maW5kRmluYWxseUVudHJ5OmZ1bmN0aW9uKGZpbmFsbHlMb2Mpe2Zvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBlbnRyeT10aGlzLnRyeUVudHJpZXNbaV07aWYoZW50cnkudHJ5TG9jPD10aGlzLnByZXYmJmhhc093bi5jYWxsKGVudHJ5LFwiZmluYWxseUxvY1wiKSYmKGVudHJ5LmZpbmFsbHlMb2M9PT1maW5hbGx5TG9jfHx0aGlzLnByZXY8ZW50cnkuZmluYWxseUxvYykpe3JldHVybiBlbnRyeX19fSxhYnJ1cHQ6ZnVuY3Rpb24odHlwZSxhcmcpe3ZhciBlbnRyeT10aGlzLl9maW5kRmluYWxseUVudHJ5KCk7dmFyIHJlY29yZD1lbnRyeT9lbnRyeS5jb21wbGV0aW9uOnt9O3JlY29yZC50eXBlPXR5cGU7cmVjb3JkLmFyZz1hcmc7aWYoZW50cnkpe3RoaXMubmV4dD1lbnRyeS5maW5hbGx5TG9jfWVsc2V7dGhpcy5jb21wbGV0ZShyZWNvcmQpfXJldHVybiBDb250aW51ZVNlbnRpbmVsfSxjb21wbGV0ZTpmdW5jdGlvbihyZWNvcmQpe2lmKHJlY29yZC50eXBlPT09XCJ0aHJvd1wiKXt0aHJvdyByZWNvcmQuYXJnfWlmKHJlY29yZC50eXBlPT09XCJicmVha1wifHxyZWNvcmQudHlwZT09PVwiY29udGludWVcIil7dGhpcy5uZXh0PXJlY29yZC5hcmd9ZWxzZSBpZihyZWNvcmQudHlwZT09PVwicmV0dXJuXCIpe3RoaXMucnZhbD1yZWNvcmQuYXJnO3RoaXMubmV4dD1cImVuZFwifXJldHVybiBDb250aW51ZVNlbnRpbmVsfSxmaW5pc2g6ZnVuY3Rpb24oZmluYWxseUxvYyl7dmFyIGVudHJ5PXRoaXMuX2ZpbmRGaW5hbGx5RW50cnkoZmluYWxseUxvYyk7cmV0dXJuIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbil9LFwiY2F0Y2hcIjpmdW5jdGlvbih0cnlMb2Mpe2Zvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBlbnRyeT10aGlzLnRyeUVudHJpZXNbaV07aWYoZW50cnkudHJ5TG9jPT09dHJ5TG9jKXt2YXIgcmVjb3JkPWVudHJ5LmNvbXBsZXRpb247dmFyIHRocm93bjtpZihyZWNvcmQudHlwZT09PVwidGhyb3dcIil7dGhyb3duPXJlY29yZC5hcmc7cmVzZXRUcnlFbnRyeShlbnRyeSxpKX1yZXR1cm4gdGhyb3dufX10aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oaXRlcmFibGUscmVzdWx0TmFtZSxuZXh0TG9jKXt0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjp2YWx1ZXMoaXRlcmFibGUpLHJlc3VsdE5hbWU6cmVzdWx0TmFtZSxuZXh0TG9jOm5leHRMb2N9O3JldHVybiBDb250aW51ZVNlbnRpbmVsfX19KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCI/Z2xvYmFsOnR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIj9zZWxmOnR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiP3dpbmRvdzp7fSl9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXt2YXIgcHJvY2Vzcz1tb2R1bGUuZXhwb3J0cz17fTtwcm9jZXNzLm5leHRUaWNrPWZ1bmN0aW9uKCl7dmFyIGNhblNldEltbWVkaWF0ZT10eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIiYmd2luZG93LnNldEltbWVkaWF0ZTt2YXIgY2FuTXV0YXRpb25PYnNlcnZlcj10eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIiYmd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI7dmFyIGNhblBvc3Q9dHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCImJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXI7aWYoY2FuU2V0SW1tZWRpYXRlKXtyZXR1cm4gZnVuY3Rpb24oZil7cmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoZil9fXZhciBxdWV1ZT1bXTtpZihjYW5NdXRhdGlvbk9ic2VydmVyKXt2YXIgaGlkZGVuRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dmFyIG9ic2VydmVyPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCl7dmFyIHF1ZXVlTGlzdD1xdWV1ZS5zbGljZSgpO3F1ZXVlLmxlbmd0aD0wO3F1ZXVlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGZuKXtmbigpfSl9KTtvYnNlcnZlci5vYnNlcnZlKGhpZGRlbkRpdix7YXR0cmlidXRlczp0cnVlfSk7cmV0dXJuIGZ1bmN0aW9uIG5leHRUaWNrKGZuKXtpZighcXVldWUubGVuZ3RoKXtoaWRkZW5EaXYuc2V0QXR0cmlidXRlKFwieWVzXCIsXCJub1wiKX1xdWV1ZS5wdXNoKGZuKX19aWYoY2FuUG9zdCl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZXYpe3ZhciBzb3VyY2U9ZXYuc291cmNlO2lmKChzb3VyY2U9PT13aW5kb3d8fHNvdXJjZT09PW51bGwpJiZldi5kYXRhPT09XCJwcm9jZXNzLXRpY2tcIil7ZXYuc3RvcFByb3BhZ2F0aW9uKCk7aWYocXVldWUubGVuZ3RoPjApe3ZhciBmbj1xdWV1ZS5zaGlmdCgpO2ZuKCl9fX0sdHJ1ZSk7cmV0dXJuIGZ1bmN0aW9uIG5leHRUaWNrKGZuKXtxdWV1ZS5wdXNoKGZuKTt3aW5kb3cucG9zdE1lc3NhZ2UoXCJwcm9jZXNzLXRpY2tcIixcIipcIil9fXJldHVybiBmdW5jdGlvbiBuZXh0VGljayhmbil7c2V0VGltZW91dChmbiwwKX19KCk7cHJvY2Vzcy50aXRsZT1cImJyb3dzZXJcIjtwcm9jZXNzLmJyb3dzZXI9dHJ1ZTtwcm9jZXNzLmVudj17fTtwcm9jZXNzLmFyZ3Y9W107ZnVuY3Rpb24gbm9vcCgpe31wcm9jZXNzLm9uPW5vb3A7cHJvY2Vzcy5hZGRMaXN0ZW5lcj1ub29wO3Byb2Nlc3Mub25jZT1ub29wO3Byb2Nlc3Mub2ZmPW5vb3A7cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcj1ub29wO3Byb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzPW5vb3A7cHJvY2Vzcy5lbWl0PW5vb3A7cHJvY2Vzcy5iaW5kaW5nPWZ1bmN0aW9uKG5hbWUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfTtwcm9jZXNzLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifTtwcm9jZXNzLmNoZGlyPWZ1bmN0aW9uKGRpcil7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfX0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzKXsoZnVuY3Rpb24ocm9vdCxmYWN0b3J5KXtpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoZmFjdG9yeSl9ZWxzZSBpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCIpe21vZHVsZS5leHBvcnRzPWZhY3RvcnkoKX1lbHNle3Jvb3QucmV0dXJuRXhwb3J0cz1mYWN0b3J5KCl9fSkodGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBpc0NhbGxhYmxlV2l0aG91dE5ldz1mdW5jdGlvbihmdW5jKXt0cnl7ZnVuYygpfWNhdGNoKGUpe3JldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX07dmFyIHN1cHBvcnRzU3ViY2xhc3Npbmc9ZnVuY3Rpb24oQyxmKXt0cnl7dmFyIFN1Yj1mdW5jdGlvbigpe0MuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZighU3ViLl9fcHJvdG9fXyl7cmV0dXJuIGZhbHNlfU9iamVjdC5zZXRQcm90b3R5cGVPZihTdWIsQyk7U3ViLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEMucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6Q319KTtyZXR1cm4gZihTdWIpfWNhdGNoKGUpe3JldHVybiBmYWxzZX19O3ZhciBhcmVQcm9wZXJ0eURlc2NyaXB0b3JzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcInhcIix7fSk7cmV0dXJuIHRydWV9Y2F0Y2goZSl7cmV0dXJuIGZhbHNlfX07dmFyIHN0YXJ0c1dpdGhSZWplY3RzUmVnZXg9ZnVuY3Rpb24oKXt2YXIgcmVqZWN0c1JlZ2V4PWZhbHNlO2lmKFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCl7dHJ5e1wiL2EvXCIuc3RhcnRzV2l0aCgvYS8pfWNhdGNoKGUpe3JlamVjdHNSZWdleD10cnVlfX1yZXR1cm4gcmVqZWN0c1JlZ2V4fTt2YXIgZ2V0R2xvYmFsPW5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKTt2YXIgZ2xvYmFscz1nZXRHbG9iYWwoKTt2YXIgZ2xvYmFsX2lzRmluaXRlPWdsb2JhbHMuaXNGaW5pdGU7dmFyIHN1cHBvcnRzRGVzY3JpcHRvcnM9ISFPYmplY3QuZGVmaW5lUHJvcGVydHkmJmFyZVByb3BlcnR5RGVzY3JpcHRvcnNTdXBwb3J0ZWQoKTt2YXIgc3RhcnRzV2l0aElzQ29tcGxpYW50PXN0YXJ0c1dpdGhSZWplY3RzUmVnZXgoKTt2YXIgX3NsaWNlPUFycmF5LnByb3RvdHlwZS5zbGljZTt2YXIgX2luZGV4T2Y9U3RyaW5nLnByb3RvdHlwZS5pbmRleE9mO3ZhciBfdG9TdHJpbmc9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt2YXIgX2hhc093blByb3BlcnR5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIEFycmF5SXRlcmF0b3I7dmFyIGRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKG9iamVjdCxuYW1lLHZhbHVlLGZvcmNlKXtpZighZm9yY2UmJm5hbWUgaW4gb2JqZWN0KXtyZXR1cm59aWYoc3VwcG9ydHNEZXNjcmlwdG9ycyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCxuYW1lLHtjb25maWd1cmFibGU6dHJ1ZSxlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsdmFsdWU6dmFsdWV9KX1lbHNle29iamVjdFtuYW1lXT12YWx1ZX19O3ZhciBkZWZpbmVQcm9wZXJ0aWVzPWZ1bmN0aW9uKG9iamVjdCxtYXApe09iamVjdC5rZXlzKG1hcCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKXt2YXIgbWV0aG9kPW1hcFtuYW1lXTtkZWZpbmVQcm9wZXJ0eShvYmplY3QsbmFtZSxtZXRob2QsZmFsc2UpfSl9O3ZhciBjcmVhdGU9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24ocHJvdG90eXBlLHByb3BlcnRpZXMpe2Z1bmN0aW9uIFR5cGUoKXt9VHlwZS5wcm90b3R5cGU9cHJvdG90eXBlO3ZhciBvYmplY3Q9bmV3IFR5cGU7aWYodHlwZW9mIHByb3BlcnRpZXMhPT1cInVuZGVmaW5lZFwiKXtkZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCxwcm9wZXJ0aWVzKX1yZXR1cm4gb2JqZWN0fTt2YXIgJGl0ZXJhdG9yJD10eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZTeW1ib2wuaXRlcmF0b3J8fFwiX2VzNi1zaGltIGl0ZXJhdG9yX1wiO2lmKGdsb2JhbHMuU2V0JiZ0eXBlb2YobmV3IGdsb2JhbHMuU2V0KVtcIkBAaXRlcmF0b3JcIl09PT1cImZ1bmN0aW9uXCIpeyRpdGVyYXRvciQ9XCJAQGl0ZXJhdG9yXCJ9dmFyIGFkZEl0ZXJhdG9yPWZ1bmN0aW9uKHByb3RvdHlwZSxpbXBsKXtpZighaW1wbCl7aW1wbD1mdW5jdGlvbiBpdGVyYXRvcigpe3JldHVybiB0aGlzfX12YXIgbz17fTtvWyRpdGVyYXRvciRdPWltcGw7ZGVmaW5lUHJvcGVydGllcyhwcm90b3R5cGUsbyk7aWYoIXByb3RvdHlwZVskaXRlcmF0b3IkXSYmdHlwZW9mICRpdGVyYXRvciQ9PT1cInN5bWJvbFwiKXtwcm90b3R5cGVbJGl0ZXJhdG9yJF09aW1wbH19O3ZhciBpc0FyZ3VtZW50cz1mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSl7dmFyIHN0cj1fdG9TdHJpbmcuY2FsbCh2YWx1ZSk7dmFyIHJlc3VsdD1zdHI9PT1cIltvYmplY3QgQXJndW1lbnRzXVwiO2lmKCFyZXN1bHQpe3Jlc3VsdD1zdHIhPT1cIltvYmplY3QgQXJyYXldXCImJnZhbHVlIT09bnVsbCYmdHlwZW9mIHZhbHVlPT09XCJvYmplY3RcIiYmdHlwZW9mIHZhbHVlLmxlbmd0aD09PVwibnVtYmVyXCImJnZhbHVlLmxlbmd0aD49MCYmX3RvU3RyaW5nLmNhbGwodmFsdWUuY2FsbGVlKT09PVwiW29iamVjdCBGdW5jdGlvbl1cIn1yZXR1cm4gcmVzdWx0fTt2YXIgZW11bGF0ZUVTNmNvbnN0cnVjdD1mdW5jdGlvbihvKXtpZighRVMuVHlwZUlzT2JqZWN0KG8pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiYmFkIG9iamVjdFwiKX1pZighby5fZXM2Y29uc3RydWN0KXtpZihvLmNvbnN0cnVjdG9yJiZFUy5Jc0NhbGxhYmxlKG8uY29uc3RydWN0b3JbXCJAQGNyZWF0ZVwiXSkpe289by5jb25zdHJ1Y3RvcltcIkBAY3JlYXRlXCJdKG8pfWRlZmluZVByb3BlcnRpZXMobyx7X2VzNmNvbnN0cnVjdDp0cnVlfSl9cmV0dXJuIG99O3ZhciBFUz17Q2hlY2tPYmplY3RDb2VyY2libGU6ZnVuY3Rpb24oeCxvcHRNZXNzYWdlKXtpZih4PT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKG9wdE1lc3NhZ2V8fFwiQ2Fubm90IGNhbGwgbWV0aG9kIG9uIFwiK3gpfXJldHVybiB4fSxUeXBlSXNPYmplY3Q6ZnVuY3Rpb24oeCl7cmV0dXJuIHghPW51bGwmJk9iamVjdCh4KT09PXh9LFRvT2JqZWN0OmZ1bmN0aW9uKG8sb3B0TWVzc2FnZSl7cmV0dXJuIE9iamVjdChFUy5DaGVja09iamVjdENvZXJjaWJsZShvLG9wdE1lc3NhZ2UpKX0sSXNDYWxsYWJsZTpmdW5jdGlvbih4KXtyZXR1cm4gdHlwZW9mIHg9PT1cImZ1bmN0aW9uXCImJl90b1N0cmluZy5jYWxsKHgpPT09XCJbb2JqZWN0IEZ1bmN0aW9uXVwifSxUb0ludDMyOmZ1bmN0aW9uKHgpe3JldHVybiB4Pj4wfSxUb1VpbnQzMjpmdW5jdGlvbih4KXtyZXR1cm4geD4+PjB9LFRvSW50ZWdlcjpmdW5jdGlvbih2YWx1ZSl7dmFyIG51bWJlcj0rdmFsdWU7aWYoTnVtYmVyLmlzTmFOKG51bWJlcikpe3JldHVybiAwfWlmKG51bWJlcj09PTB8fCFOdW1iZXIuaXNGaW5pdGUobnVtYmVyKSl7cmV0dXJuIG51bWJlcn1yZXR1cm4obnVtYmVyPjA/MTotMSkqTWF0aC5mbG9vcihNYXRoLmFicyhudW1iZXIpKX0sVG9MZW5ndGg6ZnVuY3Rpb24odmFsdWUpe3ZhciBsZW49RVMuVG9JbnRlZ2VyKHZhbHVlKTtpZihsZW48PTApe3JldHVybiAwfWlmKGxlbj5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUil7cmV0dXJuIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSfXJldHVybiBsZW59LFNhbWVWYWx1ZTpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXtpZihhPT09MCl7cmV0dXJuIDEvYT09PTEvYn1yZXR1cm4gdHJ1ZX1yZXR1cm4gTnVtYmVyLmlzTmFOKGEpJiZOdW1iZXIuaXNOYU4oYil9LFNhbWVWYWx1ZVplcm86ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ8fE51bWJlci5pc05hTihhKSYmTnVtYmVyLmlzTmFOKGIpfSxJc0l0ZXJhYmxlOmZ1bmN0aW9uKG8pe3JldHVybiBFUy5UeXBlSXNPYmplY3QobykmJih0eXBlb2Ygb1skaXRlcmF0b3IkXSE9PVwidW5kZWZpbmVkXCJ8fGlzQXJndW1lbnRzKG8pKX0sR2V0SXRlcmF0b3I6ZnVuY3Rpb24obyl7aWYoaXNBcmd1bWVudHMobykpe3JldHVybiBuZXcgQXJyYXlJdGVyYXRvcihvLFwidmFsdWVcIil9dmFyIGl0Rm49b1skaXRlcmF0b3IkXTtpZighRVMuSXNDYWxsYWJsZShpdEZuKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbHVlIGlzIG5vdCBhbiBpdGVyYWJsZVwiKX12YXIgaXQ9aXRGbi5jYWxsKG8pO2lmKCFFUy5UeXBlSXNPYmplY3QoaXQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiYmFkIGl0ZXJhdG9yXCIpfXJldHVybiBpdH0sSXRlcmF0b3JOZXh0OmZ1bmN0aW9uKGl0KXt2YXIgcmVzdWx0PWFyZ3VtZW50cy5sZW5ndGg+MT9pdC5uZXh0KGFyZ3VtZW50c1sxXSk6aXQubmV4dCgpO2lmKCFFUy5UeXBlSXNPYmplY3QocmVzdWx0KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcImJhZCBpdGVyYXRvclwiKX1yZXR1cm4gcmVzdWx0fSxDb25zdHJ1Y3Q6ZnVuY3Rpb24oQyxhcmdzKXt2YXIgb2JqO2lmKEVTLklzQ2FsbGFibGUoQ1tcIkBAY3JlYXRlXCJdKSl7b2JqPUNbXCJAQGNyZWF0ZVwiXSgpfWVsc2V7b2JqPWNyZWF0ZShDLnByb3RvdHlwZXx8bnVsbCl9ZGVmaW5lUHJvcGVydGllcyhvYmose19lczZjb25zdHJ1Y3Q6dHJ1ZX0pO3ZhciByZXN1bHQ9Qy5hcHBseShvYmosYXJncyk7cmV0dXJuIEVTLlR5cGVJc09iamVjdChyZXN1bHQpP3Jlc3VsdDpvYmp9fTt2YXIgbnVtYmVyQ29udmVyc2lvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHJvdW5kVG9FdmVuKG4pe3ZhciB3PU1hdGguZmxvb3IobiksZj1uLXc7aWYoZjwuNSl7cmV0dXJuIHd9aWYoZj4uNSl7cmV0dXJuIHcrMX1yZXR1cm4gdyUyP3crMTp3fWZ1bmN0aW9uIHBhY2tJRUVFNzU0KHYsZWJpdHMsZmJpdHMpe3ZhciBiaWFzPSgxPDxlYml0cy0xKS0xLHMsZSxmLGksYml0cyxzdHIsYnl0ZXM7aWYodiE9PXYpe2U9KDE8PGViaXRzKS0xO2Y9TWF0aC5wb3coMixmYml0cy0xKTtzPTB9ZWxzZSBpZih2PT09SW5maW5pdHl8fHY9PT0tSW5maW5pdHkpe2U9KDE8PGViaXRzKS0xO2Y9MDtzPXY8MD8xOjB9ZWxzZSBpZih2PT09MCl7ZT0wO2Y9MDtzPTEvdj09PS1JbmZpbml0eT8xOjB9ZWxzZXtzPXY8MDt2PU1hdGguYWJzKHYpO2lmKHY+PU1hdGgucG93KDIsMS1iaWFzKSl7ZT1NYXRoLm1pbihNYXRoLmZsb29yKE1hdGgubG9nKHYpL01hdGguTE4yKSwxMDIzKTtmPXJvdW5kVG9FdmVuKHYvTWF0aC5wb3coMixlKSpNYXRoLnBvdygyLGZiaXRzKSk7aWYoZi9NYXRoLnBvdygyLGZiaXRzKT49Mil7ZT1lKzE7Zj0xfWlmKGU+Ymlhcyl7ZT0oMTw8ZWJpdHMpLTE7Zj0wfWVsc2V7ZT1lK2JpYXM7Zj1mLU1hdGgucG93KDIsZmJpdHMpfX1lbHNle2U9MDtmPXJvdW5kVG9FdmVuKHYvTWF0aC5wb3coMiwxLWJpYXMtZmJpdHMpKX19Yml0cz1bXTtmb3IoaT1mYml0cztpO2ktPTEpe2JpdHMucHVzaChmJTI/MTowKTtmPU1hdGguZmxvb3IoZi8yKX1mb3IoaT1lYml0cztpO2ktPTEpe2JpdHMucHVzaChlJTI/MTowKTtlPU1hdGguZmxvb3IoZS8yKX1iaXRzLnB1c2gocz8xOjApO2JpdHMucmV2ZXJzZSgpO3N0cj1iaXRzLmpvaW4oXCJcIik7Ynl0ZXM9W107d2hpbGUoc3RyLmxlbmd0aCl7Ynl0ZXMucHVzaChwYXJzZUludChzdHIuc2xpY2UoMCw4KSwyKSk7c3RyPXN0ci5zbGljZSg4KX1yZXR1cm4gYnl0ZXN9ZnVuY3Rpb24gdW5wYWNrSUVFRTc1NChieXRlcyxlYml0cyxmYml0cyl7dmFyIGJpdHM9W10saSxqLGIsc3RyLGJpYXMscyxlLGY7Zm9yKGk9Ynl0ZXMubGVuZ3RoO2k7aS09MSl7Yj1ieXRlc1tpLTFdO2ZvcihqPTg7ajtqLT0xKXtiaXRzLnB1c2goYiUyPzE6MCk7Yj1iPj4xfX1iaXRzLnJldmVyc2UoKTtzdHI9Yml0cy5qb2luKFwiXCIpO2JpYXM9KDE8PGViaXRzLTEpLTE7cz1wYXJzZUludChzdHIuc2xpY2UoMCwxKSwyKT8tMToxO2U9cGFyc2VJbnQoc3RyLnNsaWNlKDEsMStlYml0cyksMik7Zj1wYXJzZUludChzdHIuc2xpY2UoMStlYml0cyksMik7aWYoZT09PSgxPDxlYml0cyktMSl7cmV0dXJuIGYhPT0wP05hTjpzKkluZmluaXR5fWVsc2UgaWYoZT4wKXtyZXR1cm4gcypNYXRoLnBvdygyLGUtYmlhcykqKDErZi9NYXRoLnBvdygyLGZiaXRzKSl9ZWxzZSBpZihmIT09MCl7cmV0dXJuIHMqTWF0aC5wb3coMiwtKGJpYXMtMSkpKihmL01hdGgucG93KDIsZmJpdHMpKX1lbHNle3JldHVybiBzPDA/LTA6MH19ZnVuY3Rpb24gdW5wYWNrRmxvYXQ2NChiKXtyZXR1cm4gdW5wYWNrSUVFRTc1NChiLDExLDUyKX1mdW5jdGlvbiBwYWNrRmxvYXQ2NCh2KXtyZXR1cm4gcGFja0lFRUU3NTQodiwxMSw1Mil9ZnVuY3Rpb24gdW5wYWNrRmxvYXQzMihiKXtyZXR1cm4gdW5wYWNrSUVFRTc1NChiLDgsMjMpfWZ1bmN0aW9uIHBhY2tGbG9hdDMyKHYpe3JldHVybiBwYWNrSUVFRTc1NCh2LDgsMjMpfXZhciBjb252ZXJzaW9ucz17dG9GbG9hdDMyOmZ1bmN0aW9uKG51bSl7cmV0dXJuIHVucGFja0Zsb2F0MzIocGFja0Zsb2F0MzIobnVtKSl9fTtpZih0eXBlb2YgRmxvYXQzMkFycmF5IT09XCJ1bmRlZmluZWRcIil7dmFyIGZsb2F0MzJhcnJheT1uZXcgRmxvYXQzMkFycmF5KDEpO2NvbnZlcnNpb25zLnRvRmxvYXQzMj1mdW5jdGlvbihudW0pe2Zsb2F0MzJhcnJheVswXT1udW07cmV0dXJuIGZsb2F0MzJhcnJheVswXX19cmV0dXJuIGNvbnZlcnNpb25zfSgpO2RlZmluZVByb3BlcnRpZXMoU3RyaW5nLHtmcm9tQ29kZVBvaW50OmZ1bmN0aW9uIGZyb21Db2RlUG9pbnQoXyl7dmFyIHJlc3VsdD1bXTt2YXIgbmV4dDtmb3IodmFyIGk9MCxsZW5ndGg9YXJndW1lbnRzLmxlbmd0aDtpPGxlbmd0aDtpKyspe25leHQ9TnVtYmVyKGFyZ3VtZW50c1tpXSk7aWYoIUVTLlNhbWVWYWx1ZShuZXh0LEVTLlRvSW50ZWdlcihuZXh0KSl8fG5leHQ8MHx8bmV4dD4xMTE0MTExKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY29kZSBwb2ludCBcIituZXh0KX1pZihuZXh0PDY1NTM2KXtyZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKG5leHQpKX1lbHNle25leHQtPTY1NTM2O3Jlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKG5leHQ+PjEwKSs1NTI5NikpO3Jlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUobmV4dCUxMDI0KzU2MzIwKSl9fXJldHVybiByZXN1bHQuam9pbihcIlwiKX0scmF3OmZ1bmN0aW9uIHJhdyhjYWxsU2l0ZSl7dmFyIGNvb2tlZD1FUy5Ub09iamVjdChjYWxsU2l0ZSxcImJhZCBjYWxsU2l0ZVwiKTt2YXIgcmF3VmFsdWU9Y29va2VkLnJhdzt2YXIgcmF3U3RyaW5nPUVTLlRvT2JqZWN0KHJhd1ZhbHVlLFwiYmFkIHJhdyB2YWx1ZVwiKTt2YXIgbGVuPXJhd1N0cmluZy5sZW5ndGg7dmFyIGxpdGVyYWxzZWdtZW50cz1FUy5Ub0xlbmd0aChsZW4pO2lmKGxpdGVyYWxzZWdtZW50czw9MCl7cmV0dXJuXCJcIn12YXIgc3RyaW5nRWxlbWVudHM9W107dmFyIG5leHRJbmRleD0wO3ZhciBuZXh0S2V5LG5leHQsbmV4dFNlZyxuZXh0U3ViO3doaWxlKG5leHRJbmRleDxsaXRlcmFsc2VnbWVudHMpe25leHRLZXk9U3RyaW5nKG5leHRJbmRleCk7bmV4dD1yYXdTdHJpbmdbbmV4dEtleV07bmV4dFNlZz1TdHJpbmcobmV4dCk7c3RyaW5nRWxlbWVudHMucHVzaChuZXh0U2VnKTtpZihuZXh0SW5kZXgrMT49bGl0ZXJhbHNlZ21lbnRzKXticmVha31uZXh0PW5leHRJbmRleCsxPGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzW25leHRJbmRleCsxXTpcIlwiO25leHRTdWI9U3RyaW5nKG5leHQpO3N0cmluZ0VsZW1lbnRzLnB1c2gobmV4dFN1Yik7bmV4dEluZGV4Kyt9cmV0dXJuIHN0cmluZ0VsZW1lbnRzLmpvaW4oXCJcIil9fSk7aWYoU3RyaW5nLmZyb21Db2RlUG9pbnQubGVuZ3RoIT09MSl7dmFyIG9yaWdpbmFsRnJvbUNvZGVQb2ludD1TdHJpbmcuZnJvbUNvZGVQb2ludDtkZWZpbmVQcm9wZXJ0eShTdHJpbmcsXCJmcm9tQ29kZVBvaW50XCIsZnVuY3Rpb24oXyl7cmV0dXJuIG9yaWdpbmFsRnJvbUNvZGVQb2ludC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRydWUpfXZhciBTdHJpbmdTaGltcz17cmVwZWF0OmZ1bmN0aW9uKCl7dmFyIHJlcGVhdD1mdW5jdGlvbihzLHRpbWVzKXtpZih0aW1lczwxKXtyZXR1cm5cIlwifWlmKHRpbWVzJTIpe3JldHVybiByZXBlYXQocyx0aW1lcy0xKStzfXZhciBoYWxmPXJlcGVhdChzLHRpbWVzLzIpO3JldHVybiBoYWxmK2hhbGZ9O3JldHVybiBmdW5jdGlvbih0aW1lcyl7dmFyIHRoaXNTdHI9U3RyaW5nKEVTLkNoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXMpKTt0aW1lcz1FUy5Ub0ludGVnZXIodGltZXMpO2lmKHRpbWVzPDB8fHRpbWVzPT09SW5maW5pdHkpe3Rocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBTdHJpbmcjcmVwZWF0IHZhbHVlXCIpfXJldHVybiByZXBlYXQodGhpc1N0cix0aW1lcyl9fSgpLHN0YXJ0c1dpdGg6ZnVuY3Rpb24oc2VhcmNoU3RyKXt2YXIgdGhpc1N0cj1TdHJpbmcoRVMuQ2hlY2tPYmplY3RDb2VyY2libGUodGhpcykpO2lmKF90b1N0cmluZy5jYWxsKHNlYXJjaFN0cik9PT1cIltvYmplY3QgUmVnRXhwXVwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBtZXRob2QgXCJzdGFydHNXaXRoXCIgd2l0aCBhIHJlZ2V4Jyl9c2VhcmNoU3RyPVN0cmluZyhzZWFyY2hTdHIpO3ZhciBzdGFydEFyZz1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDt2YXIgc3RhcnQ9TWF0aC5tYXgoRVMuVG9JbnRlZ2VyKHN0YXJ0QXJnKSwwKTtyZXR1cm4gdGhpc1N0ci5zbGljZShzdGFydCxzdGFydCtzZWFyY2hTdHIubGVuZ3RoKT09PXNlYXJjaFN0cn0sZW5kc1dpdGg6ZnVuY3Rpb24oc2VhcmNoU3RyKXt2YXIgdGhpc1N0cj1TdHJpbmcoRVMuQ2hlY2tPYmplY3RDb2VyY2libGUodGhpcykpO2lmKF90b1N0cmluZy5jYWxsKHNlYXJjaFN0cik9PT1cIltvYmplY3QgUmVnRXhwXVwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBtZXRob2QgXCJlbmRzV2l0aFwiIHdpdGggYSByZWdleCcpfXNlYXJjaFN0cj1TdHJpbmcoc2VhcmNoU3RyKTt2YXIgdGhpc0xlbj10aGlzU3RyLmxlbmd0aDt2YXIgcG9zQXJnPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3ZhciBwb3M9dHlwZW9mIHBvc0FyZz09PVwidW5kZWZpbmVkXCI/dGhpc0xlbjpFUy5Ub0ludGVnZXIocG9zQXJnKTt2YXIgZW5kPU1hdGgubWluKE1hdGgubWF4KHBvcywwKSx0aGlzTGVuKTtyZXR1cm4gdGhpc1N0ci5zbGljZShlbmQtc2VhcmNoU3RyLmxlbmd0aCxlbmQpPT09c2VhcmNoU3RyfSxpbmNsdWRlczpmdW5jdGlvbiBpbmNsdWRlcyhzZWFyY2hTdHJpbmcpe3ZhciBwb3NpdGlvbj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gX2luZGV4T2YuY2FsbCh0aGlzLHNlYXJjaFN0cmluZyxwb3NpdGlvbikhPT0tMX0sY29kZVBvaW50QXQ6ZnVuY3Rpb24ocG9zKXt2YXIgdGhpc1N0cj1TdHJpbmcoRVMuQ2hlY2tPYmplY3RDb2VyY2libGUodGhpcykpO3ZhciBwb3NpdGlvbj1FUy5Ub0ludGVnZXIocG9zKTt2YXIgbGVuZ3RoPXRoaXNTdHIubGVuZ3RoO2lmKHBvc2l0aW9uPDB8fHBvc2l0aW9uPj1sZW5ndGgpe3JldHVybn12YXIgZmlyc3Q9dGhpc1N0ci5jaGFyQ29kZUF0KHBvc2l0aW9uKTt2YXIgaXNFbmQ9cG9zaXRpb24rMT09PWxlbmd0aDtpZihmaXJzdDw1NTI5Nnx8Zmlyc3Q+NTYzMTl8fGlzRW5kKXtyZXR1cm4gZmlyc3R9dmFyIHNlY29uZD10aGlzU3RyLmNoYXJDb2RlQXQocG9zaXRpb24rMSk7aWYoc2Vjb25kPDU2MzIwfHxzZWNvbmQ+NTczNDMpe3JldHVybiBmaXJzdH1yZXR1cm4oZmlyc3QtNTUyOTYpKjEwMjQrKHNlY29uZC01NjMyMCkrNjU1MzZ9fTtkZWZpbmVQcm9wZXJ0aWVzKFN0cmluZy5wcm90b3R5cGUsU3RyaW5nU2hpbXMpO3ZhciBoYXNTdHJpbmdUcmltQnVnPVwiwoVcIi50cmltKCkubGVuZ3RoIT09MTtpZihoYXNTdHJpbmdUcmltQnVnKXt2YXIgb3JpZ2luYWxTdHJpbmdUcmltPVN0cmluZy5wcm90b3R5cGUudHJpbTtkZWxldGUgU3RyaW5nLnByb3RvdHlwZS50cmltO3ZhciB3cz1bXCJcdFxcblx1MDAwYlxcZlxcciDCoOGagOGgjuKAgOKAgeKAguKAg1wiLFwi4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXFx1MjAyOFwiLFwiXFx1MjAyOe+7v1wiXS5qb2luKFwiXCIpO3ZhciB0cmltUmVnZXhwPW5ldyBSZWdFeHAoXCIoXltcIit3cytcIl0rKXwoW1wiK3dzK1wiXSskKVwiLFwiZ1wiKTtkZWZpbmVQcm9wZXJ0aWVzKFN0cmluZy5wcm90b3R5cGUse3RyaW06ZnVuY3Rpb24oKXtpZih0eXBlb2YgdGhpcz09PVwidW5kZWZpbmVkXCJ8fHRoaXM9PT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FuJ3QgY29udmVydCBcIit0aGlzK1wiIHRvIG9iamVjdFwiKX1yZXR1cm4gU3RyaW5nKHRoaXMpLnJlcGxhY2UodHJpbVJlZ2V4cCxcIlwiKX19KX12YXIgU3RyaW5nSXRlcmF0b3I9ZnVuY3Rpb24ocyl7dGhpcy5fcz1TdHJpbmcoRVMuQ2hlY2tPYmplY3RDb2VyY2libGUocykpO3RoaXMuX2k9MH07U3RyaW5nSXRlcmF0b3IucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgcz10aGlzLl9zLGk9dGhpcy5faTtpZih0eXBlb2Ygcz09PVwidW5kZWZpbmVkXCJ8fGk+PXMubGVuZ3RoKXt0aGlzLl9zPXZvaWQgMDtyZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6dHJ1ZX19dmFyIGZpcnN0PXMuY2hhckNvZGVBdChpKSxzZWNvbmQsbGVuO2lmKGZpcnN0PDU1Mjk2fHxmaXJzdD41NjMxOXx8aSsxPT1zLmxlbmd0aCl7bGVuPTF9ZWxzZXtzZWNvbmQ9cy5jaGFyQ29kZUF0KGkrMSk7bGVuPXNlY29uZDw1NjMyMHx8c2Vjb25kPjU3MzQzPzE6Mn10aGlzLl9pPWkrbGVuO3JldHVybnt2YWx1ZTpzLnN1YnN0cihpLGxlbiksZG9uZTpmYWxzZX19O2FkZEl0ZXJhdG9yKFN0cmluZ0l0ZXJhdG9yLnByb3RvdHlwZSk7YWRkSXRlcmF0b3IoU3RyaW5nLnByb3RvdHlwZSxmdW5jdGlvbigpe3JldHVybiBuZXcgU3RyaW5nSXRlcmF0b3IodGhpcyl9KTtpZighc3RhcnRzV2l0aElzQ29tcGxpYW50KXtTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg9U3RyaW5nU2hpbXMuc3RhcnRzV2l0aDtTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoPVN0cmluZ1NoaW1zLmVuZHNXaXRofXZhciBBcnJheVNoaW1zPXtmcm9tOmZ1bmN0aW9uKGl0ZXJhYmxlKXt2YXIgbWFwRm49YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7dmFyIGxpc3Q9RVMuVG9PYmplY3QoaXRlcmFibGUsXCJiYWQgaXRlcmFibGVcIik7aWYodHlwZW9mIG1hcEZuIT09XCJ1bmRlZmluZWRcIiYmIUVTLklzQ2FsbGFibGUobWFwRm4pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkuZnJvbTogd2hlbiBwcm92aWRlZCwgdGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb25cIil9dmFyIGhhc1RoaXNBcmc9YXJndW1lbnRzLmxlbmd0aD4yO3ZhciB0aGlzQXJnPWhhc1RoaXNBcmc/YXJndW1lbnRzWzJdOnZvaWQgMDt2YXIgdXNpbmdJdGVyYXRvcj1FUy5Jc0l0ZXJhYmxlKGxpc3QpO3ZhciBsZW5ndGg7dmFyIHJlc3VsdCxpLHZhbHVlO2lmKHVzaW5nSXRlcmF0b3Ipe2k9MDtyZXN1bHQ9RVMuSXNDYWxsYWJsZSh0aGlzKT9PYmplY3QobmV3IHRoaXMpOltdO3ZhciBpdD11c2luZ0l0ZXJhdG9yP0VTLkdldEl0ZXJhdG9yKGxpc3QpOm51bGw7dmFyIGl0ZXJhdGlvblZhbHVlO2Rve2l0ZXJhdGlvblZhbHVlPUVTLkl0ZXJhdG9yTmV4dChpdCk7aWYoIWl0ZXJhdGlvblZhbHVlLmRvbmUpe3ZhbHVlPWl0ZXJhdGlvblZhbHVlLnZhbHVlO2lmKG1hcEZuKXtyZXN1bHRbaV09aGFzVGhpc0FyZz9tYXBGbi5jYWxsKHRoaXNBcmcsdmFsdWUsaSk6bWFwRm4odmFsdWUsaSl9ZWxzZXtyZXN1bHRbaV09dmFsdWV9aSs9MX19d2hpbGUoIWl0ZXJhdGlvblZhbHVlLmRvbmUpO2xlbmd0aD1pfWVsc2V7bGVuZ3RoPUVTLlRvTGVuZ3RoKGxpc3QubGVuZ3RoKTtyZXN1bHQ9RVMuSXNDYWxsYWJsZSh0aGlzKT9PYmplY3QobmV3IHRoaXMobGVuZ3RoKSk6bmV3IEFycmF5KGxlbmd0aCk7Zm9yKGk9MDtpPGxlbmd0aDsrK2kpe3ZhbHVlPWxpc3RbaV07aWYobWFwRm4pe3Jlc3VsdFtpXT1oYXNUaGlzQXJnP21hcEZuLmNhbGwodGhpc0FyZyx2YWx1ZSxpKTptYXBGbih2YWx1ZSxpKX1lbHNle3Jlc3VsdFtpXT12YWx1ZX19fXJlc3VsdC5sZW5ndGg9bGVuZ3RoO3JldHVybiByZXN1bHR9LG9mOmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmZyb20oYXJndW1lbnRzKX19O2RlZmluZVByb3BlcnRpZXMoQXJyYXksQXJyYXlTaGltcyk7dmFyIGFycmF5RnJvbVN3YWxsb3dzTmVnYXRpdmVMZW5ndGhzPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBBcnJheS5mcm9tKHtsZW5ndGg6LTF9KS5sZW5ndGg9PT0wfWNhdGNoKGUpe3JldHVybiBmYWxzZX19O2lmKCFhcnJheUZyb21Td2FsbG93c05lZ2F0aXZlTGVuZ3RocygpKXtkZWZpbmVQcm9wZXJ0eShBcnJheSxcImZyb21cIixBcnJheVNoaW1zLmZyb20sdHJ1ZSl9QXJyYXlJdGVyYXRvcj1mdW5jdGlvbihhcnJheSxraW5kKXt0aGlzLmk9MDt0aGlzLmFycmF5PWFycmF5O3RoaXMua2luZD1raW5kfTtkZWZpbmVQcm9wZXJ0aWVzKEFycmF5SXRlcmF0b3IucHJvdG90eXBlLHtuZXh0OmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5pLGFycmF5PXRoaXMuYXJyYXk7aWYoISh0aGlzIGluc3RhbmNlb2YgQXJyYXlJdGVyYXRvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJOb3QgYW4gQXJyYXlJdGVyYXRvclwiKX1pZih0eXBlb2YgYXJyYXkhPT1cInVuZGVmaW5lZFwiKXt2YXIgbGVuPUVTLlRvTGVuZ3RoKGFycmF5Lmxlbmd0aCk7Zm9yKDtpPGxlbjtpKyspe3ZhciBraW5kPXRoaXMua2luZDt2YXIgcmV0dmFsO2lmKGtpbmQ9PT1cImtleVwiKXtyZXR2YWw9aX1lbHNlIGlmKGtpbmQ9PT1cInZhbHVlXCIpe3JldHZhbD1hcnJheVtpXX1lbHNlIGlmKGtpbmQ9PT1cImVudHJ5XCIpe3JldHZhbD1baSxhcnJheVtpXV19dGhpcy5pPWkrMTtyZXR1cm57dmFsdWU6cmV0dmFsLGRvbmU6ZmFsc2V9fX10aGlzLmFycmF5PXZvaWQgMDtyZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6dHJ1ZX19fSk7YWRkSXRlcmF0b3IoQXJyYXlJdGVyYXRvci5wcm90b3R5cGUpO3ZhciBBcnJheVByb3RvdHlwZVNoaW1zPXtjb3B5V2l0aGluOmZ1bmN0aW9uKHRhcmdldCxzdGFydCl7dmFyIGVuZD1hcmd1bWVudHNbMl07dmFyIG89RVMuVG9PYmplY3QodGhpcyk7dmFyIGxlbj1FUy5Ub0xlbmd0aChvLmxlbmd0aCk7dGFyZ2V0PUVTLlRvSW50ZWdlcih0YXJnZXQpO3N0YXJ0PUVTLlRvSW50ZWdlcihzdGFydCk7dmFyIHRvPXRhcmdldDwwP01hdGgubWF4KGxlbit0YXJnZXQsMCk6TWF0aC5taW4odGFyZ2V0LGxlbik7dmFyIGZyb209c3RhcnQ8MD9NYXRoLm1heChsZW4rc3RhcnQsMCk6TWF0aC5taW4oc3RhcnQsbGVuKTtlbmQ9dHlwZW9mIGVuZD09PVwidW5kZWZpbmVkXCI/bGVuOkVTLlRvSW50ZWdlcihlbmQpO3ZhciBmaW49ZW5kPDA/TWF0aC5tYXgobGVuK2VuZCwwKTpNYXRoLm1pbihlbmQsbGVuKTt2YXIgY291bnQ9TWF0aC5taW4oZmluLWZyb20sbGVuLXRvKTt2YXIgZGlyZWN0aW9uPTE7aWYoZnJvbTx0byYmdG88ZnJvbStjb3VudCl7ZGlyZWN0aW9uPS0xO2Zyb20rPWNvdW50LTE7dG8rPWNvdW50LTF9d2hpbGUoY291bnQ+MCl7aWYoX2hhc093blByb3BlcnR5LmNhbGwobyxmcm9tKSl7b1t0b109b1tmcm9tXX1lbHNle2RlbGV0ZSBvW2Zyb21dfWZyb20rPWRpcmVjdGlvbjt0bys9ZGlyZWN0aW9uO2NvdW50LT0xfXJldHVybiBvfSxmaWxsOmZ1bmN0aW9uKHZhbHVlKXt2YXIgc3RhcnQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7dmFyIGVuZD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDt2YXIgTz1FUy5Ub09iamVjdCh0aGlzKTt2YXIgbGVuPUVTLlRvTGVuZ3RoKE8ubGVuZ3RoKTtzdGFydD1FUy5Ub0ludGVnZXIodHlwZW9mIHN0YXJ0PT09XCJ1bmRlZmluZWRcIj8wOnN0YXJ0KTtlbmQ9RVMuVG9JbnRlZ2VyKHR5cGVvZiBlbmQ9PT1cInVuZGVmaW5lZFwiP2xlbjplbmQpO3ZhciByZWxhdGl2ZVN0YXJ0PXN0YXJ0PDA/TWF0aC5tYXgobGVuK3N0YXJ0LDApOk1hdGgubWluKHN0YXJ0LGxlbik7dmFyIHJlbGF0aXZlRW5kPWVuZDwwP2xlbitlbmQ6ZW5kO2Zvcih2YXIgaT1yZWxhdGl2ZVN0YXJ0O2k8bGVuJiZpPHJlbGF0aXZlRW5kOysraSl7T1tpXT12YWx1ZX1yZXR1cm4gT30sZmluZDpmdW5jdGlvbiBmaW5kKHByZWRpY2F0ZSl7dmFyIGxpc3Q9RVMuVG9PYmplY3QodGhpcyk7dmFyIGxlbmd0aD1FUy5Ub0xlbmd0aChsaXN0Lmxlbmd0aCk7aWYoIUVTLklzQ2FsbGFibGUocHJlZGljYXRlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5I2ZpbmQ6IHByZWRpY2F0ZSBtdXN0IGJlIGEgZnVuY3Rpb25cIil9dmFyIHRoaXNBcmc9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTpudWxsO2Zvcih2YXIgaT0wLHZhbHVlO2k8bGVuZ3RoO2krKyl7dmFsdWU9bGlzdFtpXTtpZih0aGlzQXJnKXtpZihwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLHZhbHVlLGksbGlzdCkpe3JldHVybiB2YWx1ZX19ZWxzZXtpZihwcmVkaWNhdGUodmFsdWUsaSxsaXN0KSl7cmV0dXJuIHZhbHVlfX19cmV0dXJufSxmaW5kSW5kZXg6ZnVuY3Rpb24gZmluZEluZGV4KHByZWRpY2F0ZSl7dmFyIGxpc3Q9RVMuVG9PYmplY3QodGhpcyk7dmFyIGxlbmd0aD1FUy5Ub0xlbmd0aChsaXN0Lmxlbmd0aCk7aWYoIUVTLklzQ2FsbGFibGUocHJlZGljYXRlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5I2ZpbmRJbmRleDogcHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvblwiKX12YXIgdGhpc0FyZz1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOm51bGw7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXtpZih0aGlzQXJnKXtpZihwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLGxpc3RbaV0saSxsaXN0KSl7cmV0dXJuIGl9fWVsc2V7aWYocHJlZGljYXRlKGxpc3RbaV0saSxsaXN0KSl7cmV0dXJuIGl9fX1yZXR1cm4tMX0sa2V5czpmdW5jdGlvbigpe3JldHVybiBuZXcgQXJyYXlJdGVyYXRvcih0aGlzLFwia2V5XCIpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFycmF5SXRlcmF0b3IodGhpcyxcInZhbHVlXCIpfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yKHRoaXMsXCJlbnRyeVwiKX19O2lmKEFycmF5LnByb3RvdHlwZS5rZXlzJiYhRVMuSXNDYWxsYWJsZShbMV0ua2V5cygpLm5leHQpKXtkZWxldGUgQXJyYXkucHJvdG90eXBlLmtleXN9aWYoQXJyYXkucHJvdG90eXBlLmVudHJpZXMmJiFFUy5Jc0NhbGxhYmxlKFsxXS5lbnRyaWVzKCkubmV4dCkpe2RlbGV0ZSBBcnJheS5wcm90b3R5cGUuZW50cmllc31pZihBcnJheS5wcm90b3R5cGUua2V5cyYmQXJyYXkucHJvdG90eXBlLmVudHJpZXMmJiFBcnJheS5wcm90b3R5cGUudmFsdWVzJiZBcnJheS5wcm90b3R5cGVbJGl0ZXJhdG9yJF0pe2RlZmluZVByb3BlcnRpZXMoQXJyYXkucHJvdG90eXBlLHt2YWx1ZXM6QXJyYXkucHJvdG90eXBlWyRpdGVyYXRvciRdfSl9ZGVmaW5lUHJvcGVydGllcyhBcnJheS5wcm90b3R5cGUsQXJyYXlQcm90b3R5cGVTaGltcyk7YWRkSXRlcmF0b3IoQXJyYXkucHJvdG90eXBlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9KTtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2Ype2FkZEl0ZXJhdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZihbXS52YWx1ZXMoKSkpfXZhciBtYXhTYWZlSW50ZWdlcj1NYXRoLnBvdygyLDUzKS0xO2RlZmluZVByb3BlcnRpZXMoTnVtYmVyLHtNQVhfU0FGRV9JTlRFR0VSOm1heFNhZmVJbnRlZ2VyLE1JTl9TQUZFX0lOVEVHRVI6LW1heFNhZmVJbnRlZ2VyLEVQU0lMT046Mi4yMjA0NDYwNDkyNTAzMTNlLTE2LHBhcnNlSW50Omdsb2JhbHMucGFyc2VJbnQscGFyc2VGbG9hdDpnbG9iYWxzLnBhcnNlRmxvYXQsaXNGaW5pdGU6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0eXBlb2YgdmFsdWU9PT1cIm51bWJlclwiJiZnbG9iYWxfaXNGaW5pdGUodmFsdWUpfSxpc0ludGVnZXI6ZnVuY3Rpb24odmFsdWUpe3JldHVybiBOdW1iZXIuaXNGaW5pdGUodmFsdWUpJiZFUy5Ub0ludGVnZXIodmFsdWUpPT09dmFsdWV9LGlzU2FmZUludGVnZXI6ZnVuY3Rpb24odmFsdWUpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSYmTWF0aC5hYnModmFsdWUpPD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUn0saXNOYU46ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSE9PXZhbHVlfX0pO2lmKCFbLDFdLmZpbmQoZnVuY3Rpb24oaXRlbSxpZHgpe3JldHVybiBpZHg9PT0wfSkpe2RlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcImZpbmRcIixBcnJheVByb3RvdHlwZVNoaW1zLmZpbmQsdHJ1ZSl9aWYoWywxXS5maW5kSW5kZXgoZnVuY3Rpb24oaXRlbSxpZHgpe3JldHVybiBpZHg9PT0wfSkhPT0wKXtkZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsXCJmaW5kSW5kZXhcIixBcnJheVByb3RvdHlwZVNoaW1zLmZpbmRJbmRleCx0cnVlKX1pZihzdXBwb3J0c0Rlc2NyaXB0b3JzKXtkZWZpbmVQcm9wZXJ0aWVzKE9iamVjdCx7Z2V0UHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKHN1YmplY3QsbmFtZSl7dmFyIHBkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3ViamVjdCxuYW1lKTt2YXIgcHJvdG89T2JqZWN0LmdldFByb3RvdHlwZU9mKHN1YmplY3QpO3doaWxlKHR5cGVvZiBwZD09PVwidW5kZWZpbmVkXCImJnByb3RvIT09bnVsbCl7cGQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90byxuYW1lKTtwcm90bz1PYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pfXJldHVybiBwZH0sZ2V0UHJvcGVydHlOYW1lczpmdW5jdGlvbihzdWJqZWN0KXt2YXIgcmVzdWx0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHN1YmplY3QpO3ZhciBwcm90bz1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoc3ViamVjdCk7dmFyIGFkZFByb3BlcnR5PWZ1bmN0aW9uKHByb3BlcnR5KXtpZihyZXN1bHQuaW5kZXhPZihwcm9wZXJ0eSk9PT0tMSl7cmVzdWx0LnB1c2gocHJvcGVydHkpfX07d2hpbGUocHJvdG8hPT1udWxsKXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm90bykuZm9yRWFjaChhZGRQcm9wZXJ0eSk7cHJvdG89T2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKX1yZXR1cm4gcmVzdWx0fX0pO2RlZmluZVByb3BlcnRpZXMoT2JqZWN0LHthc3NpZ246ZnVuY3Rpb24odGFyZ2V0LHNvdXJjZSl7aWYoIUVTLlR5cGVJc09iamVjdCh0YXJnZXQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwidGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0XCIpfXJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoYXJndW1lbnRzLGZ1bmN0aW9uKHRhcmdldCxzb3VyY2Upe3JldHVybiBPYmplY3Qua2V5cyhPYmplY3Qoc291cmNlKSkucmVkdWNlKGZ1bmN0aW9uKHRhcmdldCxrZXkpe3RhcmdldFtrZXldPXNvdXJjZVtrZXldO3JldHVybiB0YXJnZXR9LHRhcmdldCl9KX0saXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRVMuU2FtZVZhbHVlKGEsYil9LHNldFByb3RvdHlwZU9mOmZ1bmN0aW9uKE9iamVjdCxtYWdpYyl7dmFyIHNldDt2YXIgY2hlY2tBcmdzPWZ1bmN0aW9uKE8scHJvdG8pe2lmKCFFUy5UeXBlSXNPYmplY3QoTykpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3Qgc2V0IHByb3RvdHlwZSBvbiBhIG5vbi1vYmplY3RcIil9aWYoIShwcm90bz09PW51bGx8fEVTLlR5cGVJc09iamVjdChwcm90bykpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FuIG9ubHkgc2V0IHByb3RvdHlwZSB0byBhbiBvYmplY3Qgb3IgbnVsbFwiK3Byb3RvKX19O3ZhciBzZXRQcm90b3R5cGVPZj1mdW5jdGlvbihPLHByb3RvKXtjaGVja0FyZ3MoTyxwcm90byk7c2V0LmNhbGwoTyxwcm90byk7cmV0dXJuIE99O3RyeXtzZXQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLG1hZ2ljKS5zZXQ7c2V0LmNhbGwoe30sbnVsbCl9Y2F0Y2goZSl7aWYoT2JqZWN0LnByb3RvdHlwZSE9PXt9W21hZ2ljXSl7cmV0dXJufXNldD1mdW5jdGlvbihwcm90byl7dGhpc1ttYWdpY109cHJvdG99O3NldFByb3RvdHlwZU9mLnBvbHlmaWxsPXNldFByb3RvdHlwZU9mKHNldFByb3RvdHlwZU9mKHt9LG51bGwpLE9iamVjdC5wcm90b3R5cGUpaW5zdGFuY2VvZiBPYmplY3R9cmV0dXJuIHNldFByb3RvdHlwZU9mfShPYmplY3QsXCJfX3Byb3RvX19cIil9KX1pZihPYmplY3Quc2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKE9iamVjdC5zZXRQcm90b3R5cGVPZih7fSxudWxsKSkhPT1udWxsJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqZWN0LmNyZWF0ZShudWxsKSk9PT1udWxsKXsoZnVuY3Rpb24oKXt2YXIgRkFLRU5VTEw9T2JqZWN0LmNyZWF0ZShudWxsKTt2YXIgZ3BvPU9iamVjdC5nZXRQcm90b3R5cGVPZixzcG89T2JqZWN0LnNldFByb3RvdHlwZU9mO09iamVjdC5nZXRQcm90b3R5cGVPZj1mdW5jdGlvbihvKXt2YXIgcmVzdWx0PWdwbyhvKTtyZXR1cm4gcmVzdWx0PT09RkFLRU5VTEw/bnVsbDpyZXN1bHR9O09iamVjdC5zZXRQcm90b3R5cGVPZj1mdW5jdGlvbihvLHApe2lmKHA9PT1udWxsKXtwPUZBS0VOVUxMfXJldHVybiBzcG8obyxwKX07T2JqZWN0LnNldFByb3RvdHlwZU9mLnBvbHlmaWxsPWZhbHNlfSkoKX10cnl7T2JqZWN0LmtleXMoXCJmb29cIil9Y2F0Y2goZSl7dmFyIG9yaWdpbmFsT2JqZWN0S2V5cz1PYmplY3Qua2V5cztPYmplY3Qua2V5cz1mdW5jdGlvbihvYmope3JldHVybiBvcmlnaW5hbE9iamVjdEtleXMoRVMuVG9PYmplY3Qob2JqKSl9fXZhciBNYXRoU2hpbXM9e2Fjb3NoOmZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT1OdW1iZXIodmFsdWUpO2lmKE51bWJlci5pc05hTih2YWx1ZSl8fHZhbHVlPDEpe3JldHVybiBOYU59aWYodmFsdWU9PT0xKXtyZXR1cm4gMH1pZih2YWx1ZT09PUluZmluaXR5KXtyZXR1cm4gdmFsdWV9cmV0dXJuIE1hdGgubG9nKHZhbHVlK01hdGguc3FydCh2YWx1ZSp2YWx1ZS0xKSl9LGFzaW5oOmZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT1OdW1iZXIodmFsdWUpO2lmKHZhbHVlPT09MHx8IWdsb2JhbF9pc0Zpbml0ZSh2YWx1ZSkpe3JldHVybiB2YWx1ZX1yZXR1cm4gdmFsdWU8MD8tTWF0aC5hc2luaCgtdmFsdWUpOk1hdGgubG9nKHZhbHVlK01hdGguc3FydCh2YWx1ZSp2YWx1ZSsxKSl9LGF0YW5oOmZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT1OdW1iZXIodmFsdWUpO2lmKE51bWJlci5pc05hTih2YWx1ZSl8fHZhbHVlPC0xfHx2YWx1ZT4xKXtyZXR1cm4gTmFOfWlmKHZhbHVlPT09LTEpe3JldHVybi1JbmZpbml0eX1pZih2YWx1ZT09PTEpe3JldHVybiBJbmZpbml0eX1pZih2YWx1ZT09PTApe3JldHVybiB2YWx1ZX1yZXR1cm4uNSpNYXRoLmxvZygoMSt2YWx1ZSkvKDEtdmFsdWUpKX0sY2JydDpmdW5jdGlvbih2YWx1ZSl7dmFsdWU9TnVtYmVyKHZhbHVlKTtpZih2YWx1ZT09PTApe3JldHVybiB2YWx1ZX12YXIgbmVnYXRlPXZhbHVlPDAscmVzdWx0O2lmKG5lZ2F0ZSl7dmFsdWU9LXZhbHVlfXJlc3VsdD1NYXRoLnBvdyh2YWx1ZSwxLzMpO3JldHVybiBuZWdhdGU/LXJlc3VsdDpyZXN1bHR9LGNsejMyOmZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT1OdW1iZXIodmFsdWUpO3ZhciBudW1iZXI9RVMuVG9VaW50MzIodmFsdWUpO2lmKG51bWJlcj09PTApe3JldHVybiAzMn1yZXR1cm4gMzItbnVtYmVyLnRvU3RyaW5nKDIpLmxlbmd0aH0sY29zaDpmdW5jdGlvbih2YWx1ZSl7dmFsdWU9TnVtYmVyKHZhbHVlKTtpZih2YWx1ZT09PTApe3JldHVybiAxfWlmKE51bWJlci5pc05hTih2YWx1ZSkpe3JldHVybiBOYU59aWYoIWdsb2JhbF9pc0Zpbml0ZSh2YWx1ZSkpe3JldHVybiBJbmZpbml0eX1pZih2YWx1ZTwwKXt2YWx1ZT0tdmFsdWV9aWYodmFsdWU+MjEpe3JldHVybiBNYXRoLmV4cCh2YWx1ZSkvMn1yZXR1cm4oTWF0aC5leHAodmFsdWUpK01hdGguZXhwKC12YWx1ZSkpLzJ9LGV4cG0xOmZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT1OdW1iZXIodmFsdWUpO2lmKHZhbHVlPT09LUluZmluaXR5KXtyZXR1cm4tMX1pZighZ2xvYmFsX2lzRmluaXRlKHZhbHVlKXx8dmFsdWU9PT0wKXtyZXR1cm4gdmFsdWV9cmV0dXJuIE1hdGguZXhwKHZhbHVlKS0xfSxoeXBvdDpmdW5jdGlvbih4LHkpe3ZhciBhbnlOYU49ZmFsc2U7dmFyIGFsbFplcm89dHJ1ZTt2YXIgYW55SW5maW5pdHk9ZmFsc2U7dmFyIG51bWJlcnM9W107QXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoYXJndW1lbnRzLGZ1bmN0aW9uKGFyZyl7dmFyIG51bT1OdW1iZXIoYXJnKTtpZihOdW1iZXIuaXNOYU4obnVtKSl7YW55TmFOPXRydWV9ZWxzZSBpZihudW09PT1JbmZpbml0eXx8bnVtPT09LUluZmluaXR5KXthbnlJbmZpbml0eT10cnVlfWVsc2UgaWYobnVtIT09MCl7YWxsWmVybz1mYWxzZX1pZihhbnlJbmZpbml0eSl7cmV0dXJuIGZhbHNlfWVsc2UgaWYoIWFueU5hTil7bnVtYmVycy5wdXNoKE1hdGguYWJzKG51bSkpfXJldHVybiB0cnVlfSk7aWYoYW55SW5maW5pdHkpe3JldHVybiBJbmZpbml0eX1pZihhbnlOYU4pe3JldHVybiBOYU59aWYoYWxsWmVybyl7cmV0dXJuIDB9bnVtYmVycy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGItYX0pO3ZhciBsYXJnZXN0PW51bWJlcnNbMF07dmFyIGRpdmlkZWQ9bnVtYmVycy5tYXAoZnVuY3Rpb24obnVtYmVyKXtyZXR1cm4gbnVtYmVyL2xhcmdlc3R9KTt2YXIgc3VtPWRpdmlkZWQucmVkdWNlKGZ1bmN0aW9uKHN1bSxudW1iZXIpe3JldHVybiBzdW0rPW51bWJlcipudW1iZXJ9LDApO3JldHVybiBsYXJnZXN0Kk1hdGguc3FydChzdW0pfSxsb2cyOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gTWF0aC5sb2codmFsdWUpKk1hdGguTE9HMkV9LGxvZzEwOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gTWF0aC5sb2codmFsdWUpKk1hdGguTE9HMTBFfSxsb2cxcDpmdW5jdGlvbih2YWx1ZSl7dmFsdWU9TnVtYmVyKHZhbHVlKTtpZih2YWx1ZTwtMXx8TnVtYmVyLmlzTmFOKHZhbHVlKSl7cmV0dXJuIE5hTn1pZih2YWx1ZT09PTB8fHZhbHVlPT09SW5maW5pdHkpe3JldHVybiB2YWx1ZX1pZih2YWx1ZT09PS0xKXtyZXR1cm4tSW5maW5pdHl9dmFyIHJlc3VsdD0wO3ZhciBuPTUwO2lmKHZhbHVlPDB8fHZhbHVlPjEpe3JldHVybiBNYXRoLmxvZygxK3ZhbHVlKX1mb3IodmFyIGk9MTtpPG47aSsrKXtpZihpJTI9PT0wKXtyZXN1bHQtPU1hdGgucG93KHZhbHVlLGkpL2l9ZWxzZXtyZXN1bHQrPU1hdGgucG93KHZhbHVlLGkpL2l9fXJldHVybiByZXN1bHR9LHNpZ246ZnVuY3Rpb24odmFsdWUpe3ZhciBudW1iZXI9K3ZhbHVlO2lmKG51bWJlcj09PTApe3JldHVybiBudW1iZXJ9aWYoTnVtYmVyLmlzTmFOKG51bWJlcikpe3JldHVybiBudW1iZXJ9cmV0dXJuIG51bWJlcjwwPy0xOjF9LHNpbmg6ZnVuY3Rpb24odmFsdWUpe3ZhbHVlPU51bWJlcih2YWx1ZSk7aWYoIWdsb2JhbF9pc0Zpbml0ZSh2YWx1ZSl8fHZhbHVlPT09MCl7cmV0dXJuIHZhbHVlfXJldHVybihNYXRoLmV4cCh2YWx1ZSktTWF0aC5leHAoLXZhbHVlKSkvMn0sdGFuaDpmdW5jdGlvbih2YWx1ZSl7dmFsdWU9TnVtYmVyKHZhbHVlKTtpZihOdW1iZXIuaXNOYU4odmFsdWUpfHx2YWx1ZT09PTApe3JldHVybiB2YWx1ZX1pZih2YWx1ZT09PUluZmluaXR5KXtyZXR1cm4gMX1pZih2YWx1ZT09PS1JbmZpbml0eSl7cmV0dXJuLTF9cmV0dXJuKE1hdGguZXhwKHZhbHVlKS1NYXRoLmV4cCgtdmFsdWUpKS8oTWF0aC5leHAodmFsdWUpK01hdGguZXhwKC12YWx1ZSkpfSx0cnVuYzpmdW5jdGlvbih2YWx1ZSl7dmFyIG51bWJlcj1OdW1iZXIodmFsdWUpO3JldHVybiBudW1iZXI8MD8tTWF0aC5mbG9vcigtbnVtYmVyKTpNYXRoLmZsb29yKG51bWJlcil9LGltdWw6ZnVuY3Rpb24oeCx5KXt4PUVTLlRvVWludDMyKHgpO3k9RVMuVG9VaW50MzIoeSk7dmFyIGFoPXg+Pj4xNiY2NTUzNTt2YXIgYWw9eCY2NTUzNTt2YXIgYmg9eT4+PjE2JjY1NTM1O3ZhciBibD15JjY1NTM1O3JldHVybiBhbCpibCsoYWgqYmwrYWwqYmg8PDE2Pj4+MCl8MH0sZnJvdW5kOmZ1bmN0aW9uKHgpe2lmKHg9PT0wfHx4PT09SW5maW5pdHl8fHg9PT0tSW5maW5pdHl8fE51bWJlci5pc05hTih4KSl7cmV0dXJuIHh9dmFyIG51bT1OdW1iZXIoeCk7cmV0dXJuIG51bWJlckNvbnZlcnNpb24udG9GbG9hdDMyKG51bSl9fTtkZWZpbmVQcm9wZXJ0aWVzKE1hdGgsTWF0aFNoaW1zKTtpZihNYXRoLmltdWwoNDI5NDk2NzI5NSw1KSE9PS01KXtNYXRoLmltdWw9TWF0aFNoaW1zLmltdWxcbn12YXIgUHJvbWlzZVNoaW09ZnVuY3Rpb24oKXt2YXIgUHJvbWlzZSxQcm9taXNlJHByb3RvdHlwZTtFUy5Jc1Byb21pc2U9ZnVuY3Rpb24ocHJvbWlzZSl7aWYoIUVTLlR5cGVJc09iamVjdChwcm9taXNlKSl7cmV0dXJuIGZhbHNlfWlmKCFwcm9taXNlLl9wcm9taXNlQ29uc3RydWN0b3Ipe3JldHVybiBmYWxzZX1pZih0eXBlb2YgcHJvbWlzZS5fc3RhdHVzPT09XCJ1bmRlZmluZWRcIil7cmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfTt2YXIgUHJvbWlzZUNhcGFiaWxpdHk9ZnVuY3Rpb24oQyl7aWYoIUVTLklzQ2FsbGFibGUoQykpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJiYWQgcHJvbWlzZSBjb25zdHJ1Y3RvclwiKX12YXIgY2FwYWJpbGl0eT10aGlzO3ZhciByZXNvbHZlcj1mdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7Y2FwYWJpbGl0eS5yZXNvbHZlPXJlc29sdmU7Y2FwYWJpbGl0eS5yZWplY3Q9cmVqZWN0fTtjYXBhYmlsaXR5LnByb21pc2U9RVMuQ29uc3RydWN0KEMsW3Jlc29sdmVyXSk7aWYoIWNhcGFiaWxpdHkucHJvbWlzZS5fZXM2Y29uc3RydWN0KXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiYmFkIHByb21pc2UgY29uc3RydWN0b3JcIil9aWYoIShFUy5Jc0NhbGxhYmxlKGNhcGFiaWxpdHkucmVzb2x2ZSkmJkVTLklzQ2FsbGFibGUoY2FwYWJpbGl0eS5yZWplY3QpKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcImJhZCBwcm9taXNlIGNvbnN0cnVjdG9yXCIpfX07dmFyIHNldFRpbWVvdXQ9Z2xvYmFscy5zZXRUaW1lb3V0O3ZhciBtYWtlWmVyb1RpbWVvdXQ7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCImJkVTLklzQ2FsbGFibGUod2luZG93LnBvc3RNZXNzYWdlKSl7bWFrZVplcm9UaW1lb3V0PWZ1bmN0aW9uKCl7dmFyIHRpbWVvdXRzPVtdO3ZhciBtZXNzYWdlTmFtZT1cInplcm8tdGltZW91dC1tZXNzYWdlXCI7dmFyIHNldFplcm9UaW1lb3V0PWZ1bmN0aW9uKGZuKXt0aW1lb3V0cy5wdXNoKGZuKTt3aW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZU5hbWUsXCIqXCIpfTt2YXIgaGFuZGxlTWVzc2FnZT1mdW5jdGlvbihldmVudCl7aWYoZXZlbnQuc291cmNlPT13aW5kb3cmJmV2ZW50LmRhdGE9PW1lc3NhZ2VOYW1lKXtldmVudC5zdG9wUHJvcGFnYXRpb24oKTtpZih0aW1lb3V0cy5sZW5ndGg9PT0wKXtyZXR1cm59dmFyIGZuPXRpbWVvdXRzLnNoaWZ0KCk7Zm4oKX19O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGhhbmRsZU1lc3NhZ2UsdHJ1ZSk7cmV0dXJuIHNldFplcm9UaW1lb3V0fX12YXIgbWFrZVByb21pc2VBc2FwPWZ1bmN0aW9uKCl7dmFyIFA9Z2xvYmFscy5Qcm9taXNlO3JldHVybiBQJiZQLnJlc29sdmUmJmZ1bmN0aW9uKHRhc2spe3JldHVybiBQLnJlc29sdmUoKS50aGVuKHRhc2spfX07dmFyIGVucXVldWU9RVMuSXNDYWxsYWJsZShnbG9iYWxzLnNldEltbWVkaWF0ZSk/Z2xvYmFscy5zZXRJbW1lZGlhdGUuYmluZChnbG9iYWxzKTp0eXBlb2YgcHJvY2Vzcz09PVwib2JqZWN0XCImJnByb2Nlc3MubmV4dFRpY2s/cHJvY2Vzcy5uZXh0VGljazptYWtlUHJvbWlzZUFzYXAoKXx8KEVTLklzQ2FsbGFibGUobWFrZVplcm9UaW1lb3V0KT9tYWtlWmVyb1RpbWVvdXQoKTpmdW5jdGlvbih0YXNrKXtzZXRUaW1lb3V0KHRhc2ssMCl9KTt2YXIgdHJpZ2dlclByb21pc2VSZWFjdGlvbnM9ZnVuY3Rpb24ocmVhY3Rpb25zLHgpe3JlYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHJlYWN0aW9uKXtlbnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIGhhbmRsZXI9cmVhY3Rpb24uaGFuZGxlcjt2YXIgY2FwYWJpbGl0eT1yZWFjdGlvbi5jYXBhYmlsaXR5O3ZhciByZXNvbHZlPWNhcGFiaWxpdHkucmVzb2x2ZTt2YXIgcmVqZWN0PWNhcGFiaWxpdHkucmVqZWN0O3RyeXt2YXIgcmVzdWx0PWhhbmRsZXIoeCk7aWYocmVzdWx0PT09Y2FwYWJpbGl0eS5wcm9taXNlKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwic2VsZiByZXNvbHV0aW9uXCIpfXZhciB1cGRhdGVSZXN1bHQ9dXBkYXRlUHJvbWlzZUZyb21Qb3RlbnRpYWxUaGVuYWJsZShyZXN1bHQsY2FwYWJpbGl0eSk7aWYoIXVwZGF0ZVJlc3VsdCl7cmVzb2x2ZShyZXN1bHQpfX1jYXRjaChlKXtyZWplY3QoZSl9fSl9KX07dmFyIHVwZGF0ZVByb21pc2VGcm9tUG90ZW50aWFsVGhlbmFibGU9ZnVuY3Rpb24oeCxjYXBhYmlsaXR5KXtpZighRVMuVHlwZUlzT2JqZWN0KHgpKXtyZXR1cm4gZmFsc2V9dmFyIHJlc29sdmU9Y2FwYWJpbGl0eS5yZXNvbHZlO3ZhciByZWplY3Q9Y2FwYWJpbGl0eS5yZWplY3Q7dHJ5e3ZhciB0aGVuPXgudGhlbjtpZighRVMuSXNDYWxsYWJsZSh0aGVuKSl7cmV0dXJuIGZhbHNlfXRoZW4uY2FsbCh4LHJlc29sdmUscmVqZWN0KX1jYXRjaChlKXtyZWplY3QoZSl9cmV0dXJuIHRydWV9O3ZhciBwcm9taXNlUmVzb2x1dGlvbkhhbmRsZXI9ZnVuY3Rpb24ocHJvbWlzZSxvbkZ1bGZpbGxlZCxvblJlamVjdGVkKXtyZXR1cm4gZnVuY3Rpb24oeCl7aWYoeD09PXByb21pc2Upe3JldHVybiBvblJlamVjdGVkKG5ldyBUeXBlRXJyb3IoXCJzZWxmIHJlc29sdXRpb25cIikpfXZhciBDPXByb21pc2UuX3Byb21pc2VDb25zdHJ1Y3Rvcjt2YXIgY2FwYWJpbGl0eT1uZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyk7dmFyIHVwZGF0ZVJlc3VsdD11cGRhdGVQcm9taXNlRnJvbVBvdGVudGlhbFRoZW5hYmxlKHgsY2FwYWJpbGl0eSk7aWYodXBkYXRlUmVzdWx0KXtyZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlLnRoZW4ob25GdWxmaWxsZWQsb25SZWplY3RlZCl9ZWxzZXtyZXR1cm4gb25GdWxmaWxsZWQoeCl9fX07UHJvbWlzZT1mdW5jdGlvbihyZXNvbHZlcil7dmFyIHByb21pc2U9dGhpcztwcm9taXNlPWVtdWxhdGVFUzZjb25zdHJ1Y3QocHJvbWlzZSk7aWYoIXByb21pc2UuX3Byb21pc2VDb25zdHJ1Y3Rvcil7dGhyb3cgbmV3IFR5cGVFcnJvcihcImJhZCBwcm9taXNlXCIpfWlmKHR5cGVvZiBwcm9taXNlLl9zdGF0dXMhPT1cInVuZGVmaW5lZFwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwicHJvbWlzZSBhbHJlYWR5IGluaXRpYWxpemVkXCIpfWlmKCFFUy5Jc0NhbGxhYmxlKHJlc29sdmVyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIHZhbGlkIHJlc29sdmVyXCIpfXByb21pc2UuX3N0YXR1cz1cInVucmVzb2x2ZWRcIjtwcm9taXNlLl9yZXNvbHZlUmVhY3Rpb25zPVtdO3Byb21pc2UuX3JlamVjdFJlYWN0aW9ucz1bXTt2YXIgcmVzb2x2ZT1mdW5jdGlvbihyZXNvbHV0aW9uKXtpZihwcm9taXNlLl9zdGF0dXMhPT1cInVucmVzb2x2ZWRcIil7cmV0dXJufXZhciByZWFjdGlvbnM9cHJvbWlzZS5fcmVzb2x2ZVJlYWN0aW9ucztwcm9taXNlLl9yZXN1bHQ9cmVzb2x1dGlvbjtwcm9taXNlLl9yZXNvbHZlUmVhY3Rpb25zPXZvaWQgMDtwcm9taXNlLl9yZWplY3RSZWFjdGlvbnM9dm9pZCAwO3Byb21pc2UuX3N0YXR1cz1cImhhcy1yZXNvbHV0aW9uXCI7dHJpZ2dlclByb21pc2VSZWFjdGlvbnMocmVhY3Rpb25zLHJlc29sdXRpb24pfTt2YXIgcmVqZWN0PWZ1bmN0aW9uKHJlYXNvbil7aWYocHJvbWlzZS5fc3RhdHVzIT09XCJ1bnJlc29sdmVkXCIpe3JldHVybn12YXIgcmVhY3Rpb25zPXByb21pc2UuX3JlamVjdFJlYWN0aW9ucztwcm9taXNlLl9yZXN1bHQ9cmVhc29uO3Byb21pc2UuX3Jlc29sdmVSZWFjdGlvbnM9dm9pZCAwO3Byb21pc2UuX3JlamVjdFJlYWN0aW9ucz12b2lkIDA7cHJvbWlzZS5fc3RhdHVzPVwiaGFzLXJlamVjdGlvblwiO3RyaWdnZXJQcm9taXNlUmVhY3Rpb25zKHJlYWN0aW9ucyxyZWFzb24pfTt0cnl7cmVzb2x2ZXIocmVzb2x2ZSxyZWplY3QpfWNhdGNoKGUpe3JlamVjdChlKX1yZXR1cm4gcHJvbWlzZX07UHJvbWlzZSRwcm90b3R5cGU9UHJvbWlzZS5wcm90b3R5cGU7ZGVmaW5lUHJvcGVydGllcyhQcm9taXNlLHtcIkBAY3JlYXRlXCI6ZnVuY3Rpb24ob2JqKXt2YXIgY29uc3RydWN0b3I9dGhpczt2YXIgcHJvdG90eXBlPWNvbnN0cnVjdG9yLnByb3RvdHlwZXx8UHJvbWlzZSRwcm90b3R5cGU7b2JqPW9ianx8Y3JlYXRlKHByb3RvdHlwZSk7ZGVmaW5lUHJvcGVydGllcyhvYmose19zdGF0dXM6dm9pZCAwLF9yZXN1bHQ6dm9pZCAwLF9yZXNvbHZlUmVhY3Rpb25zOnZvaWQgMCxfcmVqZWN0UmVhY3Rpb25zOnZvaWQgMCxfcHJvbWlzZUNvbnN0cnVjdG9yOnZvaWQgMH0pO29iai5fcHJvbWlzZUNvbnN0cnVjdG9yPWNvbnN0cnVjdG9yO3JldHVybiBvYmp9fSk7dmFyIF9wcm9taXNlQWxsUmVzb2x2ZXI9ZnVuY3Rpb24oaW5kZXgsdmFsdWVzLGNhcGFiaWxpdHkscmVtYWluaW5nKXt2YXIgZG9uZT1mYWxzZTtyZXR1cm4gZnVuY3Rpb24oeCl7aWYoZG9uZSl7cmV0dXJufWRvbmU9dHJ1ZTt2YWx1ZXNbaW5kZXhdPXg7aWYoLS1yZW1haW5pbmcuY291bnQ9PT0wKXt2YXIgcmVzb2x2ZT1jYXBhYmlsaXR5LnJlc29sdmU7cmVzb2x2ZSh2YWx1ZXMpfX19O1Byb21pc2UuYWxsPWZ1bmN0aW9uKGl0ZXJhYmxlKXt2YXIgQz10aGlzO3ZhciBjYXBhYmlsaXR5PW5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKTt2YXIgcmVzb2x2ZT1jYXBhYmlsaXR5LnJlc29sdmU7dmFyIHJlamVjdD1jYXBhYmlsaXR5LnJlamVjdDt0cnl7aWYoIUVTLklzSXRlcmFibGUoaXRlcmFibGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiYmFkIGl0ZXJhYmxlXCIpfXZhciBpdD1FUy5HZXRJdGVyYXRvcihpdGVyYWJsZSk7dmFyIHZhbHVlcz1bXSxyZW1haW5pbmc9e2NvdW50OjF9O2Zvcih2YXIgaW5kZXg9MDs7aW5kZXgrKyl7dmFyIG5leHQ9RVMuSXRlcmF0b3JOZXh0KGl0KTtpZihuZXh0LmRvbmUpe2JyZWFrfXZhciBuZXh0UHJvbWlzZT1DLnJlc29sdmUobmV4dC52YWx1ZSk7dmFyIHJlc29sdmVFbGVtZW50PV9wcm9taXNlQWxsUmVzb2x2ZXIoaW5kZXgsdmFsdWVzLGNhcGFiaWxpdHkscmVtYWluaW5nKTtyZW1haW5pbmcuY291bnQrKztuZXh0UHJvbWlzZS50aGVuKHJlc29sdmVFbGVtZW50LGNhcGFiaWxpdHkucmVqZWN0KX1pZigtLXJlbWFpbmluZy5jb3VudD09PTApe3Jlc29sdmUodmFsdWVzKX19Y2F0Y2goZSl7cmVqZWN0KGUpfXJldHVybiBjYXBhYmlsaXR5LnByb21pc2V9O1Byb21pc2UucmFjZT1mdW5jdGlvbihpdGVyYWJsZSl7dmFyIEM9dGhpczt2YXIgY2FwYWJpbGl0eT1uZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyk7dmFyIHJlc29sdmU9Y2FwYWJpbGl0eS5yZXNvbHZlO3ZhciByZWplY3Q9Y2FwYWJpbGl0eS5yZWplY3Q7dHJ5e2lmKCFFUy5Jc0l0ZXJhYmxlKGl0ZXJhYmxlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcImJhZCBpdGVyYWJsZVwiKX12YXIgaXQ9RVMuR2V0SXRlcmF0b3IoaXRlcmFibGUpO3doaWxlKHRydWUpe3ZhciBuZXh0PUVTLkl0ZXJhdG9yTmV4dChpdCk7aWYobmV4dC5kb25lKXticmVha312YXIgbmV4dFByb21pc2U9Qy5yZXNvbHZlKG5leHQudmFsdWUpO25leHRQcm9taXNlLnRoZW4ocmVzb2x2ZSxyZWplY3QpfX1jYXRjaChlKXtyZWplY3QoZSl9cmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZX07UHJvbWlzZS5yZWplY3Q9ZnVuY3Rpb24ocmVhc29uKXt2YXIgQz10aGlzO3ZhciBjYXBhYmlsaXR5PW5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKTt2YXIgcmVqZWN0PWNhcGFiaWxpdHkucmVqZWN0O3JlamVjdChyZWFzb24pO3JldHVybiBjYXBhYmlsaXR5LnByb21pc2V9O1Byb21pc2UucmVzb2x2ZT1mdW5jdGlvbih2KXt2YXIgQz10aGlzO2lmKEVTLklzUHJvbWlzZSh2KSl7dmFyIGNvbnN0cnVjdG9yPXYuX3Byb21pc2VDb25zdHJ1Y3RvcjtpZihjb25zdHJ1Y3Rvcj09PUMpe3JldHVybiB2fX12YXIgY2FwYWJpbGl0eT1uZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyk7dmFyIHJlc29sdmU9Y2FwYWJpbGl0eS5yZXNvbHZlO3Jlc29sdmUodik7cmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZX07UHJvbWlzZS5wcm90b3R5cGVbXCJjYXRjaFwiXT1mdW5jdGlvbihvblJlamVjdGVkKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxvblJlamVjdGVkKX07UHJvbWlzZS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihvbkZ1bGZpbGxlZCxvblJlamVjdGVkKXt2YXIgcHJvbWlzZT10aGlzO2lmKCFFUy5Jc1Byb21pc2UocHJvbWlzZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJub3QgYSBwcm9taXNlXCIpfXZhciBDPXRoaXMuY29uc3RydWN0b3I7dmFyIGNhcGFiaWxpdHk9bmV3IFByb21pc2VDYXBhYmlsaXR5KEMpO2lmKCFFUy5Jc0NhbGxhYmxlKG9uUmVqZWN0ZWQpKXtvblJlamVjdGVkPWZ1bmN0aW9uKGUpe3Rocm93IGV9fWlmKCFFUy5Jc0NhbGxhYmxlKG9uRnVsZmlsbGVkKSl7b25GdWxmaWxsZWQ9ZnVuY3Rpb24oeCl7cmV0dXJuIHh9fXZhciByZXNvbHV0aW9uSGFuZGxlcj1wcm9taXNlUmVzb2x1dGlvbkhhbmRsZXIocHJvbWlzZSxvbkZ1bGZpbGxlZCxvblJlamVjdGVkKTt2YXIgcmVzb2x2ZVJlYWN0aW9uPXtjYXBhYmlsaXR5OmNhcGFiaWxpdHksaGFuZGxlcjpyZXNvbHV0aW9uSGFuZGxlcn07dmFyIHJlamVjdFJlYWN0aW9uPXtjYXBhYmlsaXR5OmNhcGFiaWxpdHksaGFuZGxlcjpvblJlamVjdGVkfTtzd2l0Y2gocHJvbWlzZS5fc3RhdHVzKXtjYXNlXCJ1bnJlc29sdmVkXCI6cHJvbWlzZS5fcmVzb2x2ZVJlYWN0aW9ucy5wdXNoKHJlc29sdmVSZWFjdGlvbik7cHJvbWlzZS5fcmVqZWN0UmVhY3Rpb25zLnB1c2gocmVqZWN0UmVhY3Rpb24pO2JyZWFrO2Nhc2VcImhhcy1yZXNvbHV0aW9uXCI6dHJpZ2dlclByb21pc2VSZWFjdGlvbnMoW3Jlc29sdmVSZWFjdGlvbl0scHJvbWlzZS5fcmVzdWx0KTticmVhaztjYXNlXCJoYXMtcmVqZWN0aW9uXCI6dHJpZ2dlclByb21pc2VSZWFjdGlvbnMoW3JlamVjdFJlYWN0aW9uXSxwcm9taXNlLl9yZXN1bHQpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcInVuZXhwZWN0ZWRcIil9cmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZX07cmV0dXJuIFByb21pc2V9KCk7aWYoZ2xvYmFscy5Qcm9taXNlKXtkZWxldGUgZ2xvYmFscy5Qcm9taXNlLmFjY2VwdDtkZWxldGUgZ2xvYmFscy5Qcm9taXNlLmRlZmVyO2RlbGV0ZSBnbG9iYWxzLlByb21pc2UucHJvdG90eXBlLmNoYWlufWRlZmluZVByb3BlcnRpZXMoZ2xvYmFscyx7UHJvbWlzZTpQcm9taXNlU2hpbX0pO3ZhciBwcm9taXNlU3VwcG9ydHNTdWJjbGFzc2luZz1zdXBwb3J0c1N1YmNsYXNzaW5nKGdsb2JhbHMuUHJvbWlzZSxmdW5jdGlvbihTKXtyZXR1cm4gUy5yZXNvbHZlKDQyKWluc3RhbmNlb2YgU30pO3ZhciBwcm9taXNlSWdub3Jlc05vbkZ1bmN0aW9uVGhlbkNhbGxiYWNrcz1mdW5jdGlvbigpe3RyeXtnbG9iYWxzLlByb21pc2UucmVqZWN0KDQyKS50aGVuKG51bGwsNSkudGhlbihudWxsLGZ1bmN0aW9uKCl7fSk7cmV0dXJuIHRydWV9Y2F0Y2goZXgpe3JldHVybiBmYWxzZX19KCk7dmFyIHByb21pc2VSZXF1aXJlc09iamVjdENvbnRleHQ9ZnVuY3Rpb24oKXt0cnl7UHJvbWlzZS5jYWxsKDMsZnVuY3Rpb24oKXt9KX1jYXRjaChlKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9KCk7aWYoIXByb21pc2VTdXBwb3J0c1N1YmNsYXNzaW5nfHwhcHJvbWlzZUlnbm9yZXNOb25GdW5jdGlvblRoZW5DYWxsYmFja3N8fCFwcm9taXNlUmVxdWlyZXNPYmplY3RDb250ZXh0KXtnbG9iYWxzLlByb21pc2U9UHJvbWlzZVNoaW19dmFyIHRlc3RPcmRlcj1mdW5jdGlvbihhKXt2YXIgYj1PYmplY3Qua2V5cyhhLnJlZHVjZShmdW5jdGlvbihvLGspe29ba109dHJ1ZTtyZXR1cm4gb30se30pKTtyZXR1cm4gYS5qb2luKFwiOlwiKT09PWIuam9pbihcIjpcIil9O3ZhciBwcmVzZXJ2ZXNJbnNlcnRpb25PcmRlcj10ZXN0T3JkZXIoW1wielwiLFwiYVwiLFwiYmJcIl0pO3ZhciBwcmVzZXJ2ZXNOdW1lcmljSW5zZXJ0aW9uT3JkZXI9dGVzdE9yZGVyKFtcInpcIiwxLFwiYVwiLFwiM1wiLDJdKTtpZihzdXBwb3J0c0Rlc2NyaXB0b3JzKXt2YXIgZmFzdGtleT1mdW5jdGlvbiBmYXN0a2V5KGtleSl7aWYoIXByZXNlcnZlc0luc2VydGlvbk9yZGVyKXtyZXR1cm4gbnVsbH12YXIgdHlwZT10eXBlb2Yga2V5O2lmKHR5cGU9PT1cInN0cmluZ1wiKXtyZXR1cm5cIiRcIitrZXl9ZWxzZSBpZih0eXBlPT09XCJudW1iZXJcIil7aWYoIXByZXNlcnZlc051bWVyaWNJbnNlcnRpb25PcmRlcil7cmV0dXJuXCJuXCIra2V5fXJldHVybiBrZXl9cmV0dXJuIG51bGx9O3ZhciBlbXB0eU9iamVjdD1mdW5jdGlvbiBlbXB0eU9iamVjdCgpe3JldHVybiBPYmplY3QuY3JlYXRlP09iamVjdC5jcmVhdGUobnVsbCk6e319O3ZhciBjb2xsZWN0aW9uU2hpbXM9e01hcDpmdW5jdGlvbigpe3ZhciBlbXB0eT17fTtmdW5jdGlvbiBNYXBFbnRyeShrZXksdmFsdWUpe3RoaXMua2V5PWtleTt0aGlzLnZhbHVlPXZhbHVlO3RoaXMubmV4dD1udWxsO3RoaXMucHJldj1udWxsfU1hcEVudHJ5LnByb3RvdHlwZS5pc1JlbW92ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXk9PT1lbXB0eX07ZnVuY3Rpb24gTWFwSXRlcmF0b3IobWFwLGtpbmQpe3RoaXMuaGVhZD1tYXAuX2hlYWQ7dGhpcy5pPXRoaXMuaGVhZDt0aGlzLmtpbmQ9a2luZH1NYXBJdGVyYXRvci5wcm90b3R5cGU9e25leHQ6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmksa2luZD10aGlzLmtpbmQsaGVhZD10aGlzLmhlYWQscmVzdWx0O2lmKHR5cGVvZiB0aGlzLmk9PT1cInVuZGVmaW5lZFwiKXtyZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6dHJ1ZX19d2hpbGUoaS5pc1JlbW92ZWQoKSYmaSE9PWhlYWQpe2k9aS5wcmV2fXdoaWxlKGkubmV4dCE9PWhlYWQpe2k9aS5uZXh0O2lmKCFpLmlzUmVtb3ZlZCgpKXtpZihraW5kPT09XCJrZXlcIil7cmVzdWx0PWkua2V5fWVsc2UgaWYoa2luZD09PVwidmFsdWVcIil7cmVzdWx0PWkudmFsdWV9ZWxzZXtyZXN1bHQ9W2kua2V5LGkudmFsdWVdfXRoaXMuaT1pO3JldHVybnt2YWx1ZTpyZXN1bHQsZG9uZTpmYWxzZX19fXRoaXMuaT12b2lkIDA7cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOnRydWV9fX07YWRkSXRlcmF0b3IoTWFwSXRlcmF0b3IucHJvdG90eXBlKTtmdW5jdGlvbiBNYXAoaXRlcmFibGUpe3ZhciBtYXA9dGhpcztpZighRVMuVHlwZUlzT2JqZWN0KG1hcCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJNYXAgZG9lcyBub3QgYWNjZXB0IGFyZ3VtZW50cyB3aGVuIGNhbGxlZCBhcyBhIGZ1bmN0aW9uXCIpfW1hcD1lbXVsYXRlRVM2Y29uc3RydWN0KG1hcCk7aWYoIW1hcC5fZXM2bWFwKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiYmFkIG1hcFwiKX12YXIgaGVhZD1uZXcgTWFwRW50cnkobnVsbCxudWxsKTtoZWFkLm5leHQ9aGVhZC5wcmV2PWhlYWQ7ZGVmaW5lUHJvcGVydGllcyhtYXAse19oZWFkOmhlYWQsX3N0b3JhZ2U6ZW1wdHlPYmplY3QoKSxfc2l6ZTowfSk7aWYodHlwZW9mIGl0ZXJhYmxlIT09XCJ1bmRlZmluZWRcIiYmaXRlcmFibGUhPT1udWxsKXt2YXIgaXQ9RVMuR2V0SXRlcmF0b3IoaXRlcmFibGUpO3ZhciBhZGRlcj1tYXAuc2V0O2lmKCFFUy5Jc0NhbGxhYmxlKGFkZGVyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcImJhZCBtYXBcIil9d2hpbGUodHJ1ZSl7dmFyIG5leHQ9RVMuSXRlcmF0b3JOZXh0KGl0KTtpZihuZXh0LmRvbmUpe2JyZWFrfXZhciBuZXh0SXRlbT1uZXh0LnZhbHVlO2lmKCFFUy5UeXBlSXNPYmplY3QobmV4dEl0ZW0pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0ZWQgaXRlcmFibGUgb2YgcGFpcnNcIil9YWRkZXIuY2FsbChtYXAsbmV4dEl0ZW1bMF0sbmV4dEl0ZW1bMV0pfX1yZXR1cm4gbWFwfXZhciBNYXAkcHJvdG90eXBlPU1hcC5wcm90b3R5cGU7ZGVmaW5lUHJvcGVydGllcyhNYXAse1wiQEBjcmVhdGVcIjpmdW5jdGlvbihvYmope3ZhciBjb25zdHJ1Y3Rvcj10aGlzO3ZhciBwcm90b3R5cGU9Y29uc3RydWN0b3IucHJvdG90eXBlfHxNYXAkcHJvdG90eXBlO29iaj1vYmp8fGNyZWF0ZShwcm90b3R5cGUpO2RlZmluZVByb3BlcnRpZXMob2JqLHtfZXM2bWFwOnRydWV9KTtyZXR1cm4gb2JqfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAucHJvdG90eXBlLFwic2l6ZVwiLHtjb25maWd1cmFibGU6dHJ1ZSxlbnVtZXJhYmxlOmZhbHNlLGdldDpmdW5jdGlvbigpe2lmKHR5cGVvZiB0aGlzLl9zaXplPT09XCJ1bmRlZmluZWRcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcInNpemUgbWV0aG9kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgTWFwXCIpfXJldHVybiB0aGlzLl9zaXplfX0pO2RlZmluZVByb3BlcnRpZXMoTWFwLnByb3RvdHlwZSx7Z2V0OmZ1bmN0aW9uKGtleSl7dmFyIGZrZXk9ZmFzdGtleShrZXkpO2lmKGZrZXkhPT1udWxsKXt2YXIgZW50cnk9dGhpcy5fc3RvcmFnZVtma2V5XTtpZihlbnRyeSl7cmV0dXJuIGVudHJ5LnZhbHVlfWVsc2V7cmV0dXJufX12YXIgaGVhZD10aGlzLl9oZWFkLGk9aGVhZDt3aGlsZSgoaT1pLm5leHQpIT09aGVhZCl7aWYoRVMuU2FtZVZhbHVlWmVybyhpLmtleSxrZXkpKXtyZXR1cm4gaS52YWx1ZX19cmV0dXJufSxoYXM6ZnVuY3Rpb24oa2V5KXt2YXIgZmtleT1mYXN0a2V5KGtleSk7aWYoZmtleSE9PW51bGwpe3JldHVybiB0eXBlb2YgdGhpcy5fc3RvcmFnZVtma2V5XSE9PVwidW5kZWZpbmVkXCJ9dmFyIGhlYWQ9dGhpcy5faGVhZCxpPWhlYWQ7d2hpbGUoKGk9aS5uZXh0KSE9PWhlYWQpe2lmKEVTLlNhbWVWYWx1ZVplcm8oaS5rZXksa2V5KSl7cmV0dXJuIHRydWV9fXJldHVybiBmYWxzZX0sc2V0OmZ1bmN0aW9uKGtleSx2YWx1ZSl7dmFyIGhlYWQ9dGhpcy5faGVhZCxpPWhlYWQsZW50cnk7dmFyIGZrZXk9ZmFzdGtleShrZXkpO2lmKGZrZXkhPT1udWxsKXtpZih0eXBlb2YgdGhpcy5fc3RvcmFnZVtma2V5XSE9PVwidW5kZWZpbmVkXCIpe3RoaXMuX3N0b3JhZ2VbZmtleV0udmFsdWU9dmFsdWU7cmV0dXJuIHRoaXN9ZWxzZXtlbnRyeT10aGlzLl9zdG9yYWdlW2ZrZXldPW5ldyBNYXBFbnRyeShrZXksdmFsdWUpO2k9aGVhZC5wcmV2fX13aGlsZSgoaT1pLm5leHQpIT09aGVhZCl7aWYoRVMuU2FtZVZhbHVlWmVybyhpLmtleSxrZXkpKXtpLnZhbHVlPXZhbHVlO3JldHVybiB0aGlzfX1lbnRyeT1lbnRyeXx8bmV3IE1hcEVudHJ5KGtleSx2YWx1ZSk7aWYoRVMuU2FtZVZhbHVlKC0wLGtleSkpe2VudHJ5LmtleT0rMH1lbnRyeS5uZXh0PXRoaXMuX2hlYWQ7ZW50cnkucHJldj10aGlzLl9oZWFkLnByZXY7ZW50cnkucHJldi5uZXh0PWVudHJ5O2VudHJ5Lm5leHQucHJldj1lbnRyeTt0aGlzLl9zaXplKz0xO3JldHVybiB0aGlzfSxcImRlbGV0ZVwiOmZ1bmN0aW9uKGtleSl7dmFyIGhlYWQ9dGhpcy5faGVhZCxpPWhlYWQ7dmFyIGZrZXk9ZmFzdGtleShrZXkpO2lmKGZrZXkhPT1udWxsKXtpZih0eXBlb2YgdGhpcy5fc3RvcmFnZVtma2V5XT09PVwidW5kZWZpbmVkXCIpe3JldHVybiBmYWxzZX1pPXRoaXMuX3N0b3JhZ2VbZmtleV0ucHJldjtkZWxldGUgdGhpcy5fc3RvcmFnZVtma2V5XX13aGlsZSgoaT1pLm5leHQpIT09aGVhZCl7aWYoRVMuU2FtZVZhbHVlWmVybyhpLmtleSxrZXkpKXtpLmtleT1pLnZhbHVlPWVtcHR5O2kucHJldi5uZXh0PWkubmV4dDtpLm5leHQucHJldj1pLnByZXY7dGhpcy5fc2l6ZS09MTtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuX3NpemU9MDt0aGlzLl9zdG9yYWdlPWVtcHR5T2JqZWN0KCk7dmFyIGhlYWQ9dGhpcy5faGVhZCxpPWhlYWQscD1pLm5leHQ7d2hpbGUoKGk9cCkhPT1oZWFkKXtpLmtleT1pLnZhbHVlPWVtcHR5O3A9aS5uZXh0O2kubmV4dD1pLnByZXY9aGVhZH1oZWFkLm5leHQ9aGVhZC5wcmV2PWhlYWR9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMsXCJrZXlcIil9LHZhbHVlczpmdW5jdGlvbigpe3JldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcyxcInZhbHVlXCIpfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLFwia2V5K3ZhbHVlXCIpfSxmb3JFYWNoOmZ1bmN0aW9uKGNhbGxiYWNrKXt2YXIgY29udGV4dD1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOm51bGw7dmFyIGl0PXRoaXMuZW50cmllcygpO2Zvcih2YXIgZW50cnk9aXQubmV4dCgpOyFlbnRyeS5kb25lO2VudHJ5PWl0Lm5leHQoKSl7aWYoY29udGV4dCl7Y2FsbGJhY2suY2FsbChjb250ZXh0LGVudHJ5LnZhbHVlWzFdLGVudHJ5LnZhbHVlWzBdLHRoaXMpfWVsc2V7Y2FsbGJhY2soZW50cnkudmFsdWVbMV0sZW50cnkudmFsdWVbMF0sdGhpcyl9fX19KTthZGRJdGVyYXRvcihNYXAucHJvdG90eXBlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfSk7cmV0dXJuIE1hcH0oKSxTZXQ6ZnVuY3Rpb24oKXt2YXIgU2V0U2hpbT1mdW5jdGlvbiBTZXQoaXRlcmFibGUpe3ZhciBzZXQ9dGhpcztpZighRVMuVHlwZUlzT2JqZWN0KHNldCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJTZXQgZG9lcyBub3QgYWNjZXB0IGFyZ3VtZW50cyB3aGVuIGNhbGxlZCBhcyBhIGZ1bmN0aW9uXCIpfXNldD1lbXVsYXRlRVM2Y29uc3RydWN0KHNldCk7aWYoIXNldC5fZXM2c2V0KXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiYmFkIHNldFwiKX1kZWZpbmVQcm9wZXJ0aWVzKHNldCx7XCJbW1NldERhdGFdXVwiOm51bGwsX3N0b3JhZ2U6ZW1wdHlPYmplY3QoKX0pO2lmKHR5cGVvZiBpdGVyYWJsZSE9PVwidW5kZWZpbmVkXCImJml0ZXJhYmxlIT09bnVsbCl7dmFyIGl0PUVTLkdldEl0ZXJhdG9yKGl0ZXJhYmxlKTt2YXIgYWRkZXI9c2V0LmFkZDtpZighRVMuSXNDYWxsYWJsZShhZGRlcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJiYWQgc2V0XCIpfXdoaWxlKHRydWUpe3ZhciBuZXh0PUVTLkl0ZXJhdG9yTmV4dChpdCk7aWYobmV4dC5kb25lKXticmVha312YXIgbmV4dEl0ZW09bmV4dC52YWx1ZTthZGRlci5jYWxsKHNldCxuZXh0SXRlbSl9fXJldHVybiBzZXR9O3ZhciBTZXQkcHJvdG90eXBlPVNldFNoaW0ucHJvdG90eXBlO2RlZmluZVByb3BlcnRpZXMoU2V0U2hpbSx7XCJAQGNyZWF0ZVwiOmZ1bmN0aW9uKG9iail7dmFyIGNvbnN0cnVjdG9yPXRoaXM7dmFyIHByb3RvdHlwZT1jb25zdHJ1Y3Rvci5wcm90b3R5cGV8fFNldCRwcm90b3R5cGU7b2JqPW9ianx8Y3JlYXRlKHByb3RvdHlwZSk7ZGVmaW5lUHJvcGVydGllcyhvYmose19lczZzZXQ6dHJ1ZX0pO3JldHVybiBvYmp9fSk7dmFyIGVuc3VyZU1hcD1mdW5jdGlvbiBlbnN1cmVNYXAoc2V0KXtpZighc2V0W1wiW1tTZXREYXRhXV1cIl0pe3ZhciBtPXNldFtcIltbU2V0RGF0YV1dXCJdPW5ldyBjb2xsZWN0aW9uU2hpbXMuTWFwO09iamVjdC5rZXlzKHNldC5fc3RvcmFnZSkuZm9yRWFjaChmdW5jdGlvbihrKXtpZihrLmNoYXJDb2RlQXQoMCk9PT0zNil7az1rLnNsaWNlKDEpfWVsc2UgaWYoay5jaGFyQXQoMCk9PT1cIm5cIil7az0ray5zbGljZSgxKX1lbHNle2s9K2t9bS5zZXQoayxrKX0pO3NldC5fc3RvcmFnZT1udWxsfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KFNldFNoaW0ucHJvdG90eXBlLFwic2l6ZVwiLHtjb25maWd1cmFibGU6dHJ1ZSxlbnVtZXJhYmxlOmZhbHNlLGdldDpmdW5jdGlvbigpe2lmKHR5cGVvZiB0aGlzLl9zdG9yYWdlPT09XCJ1bmRlZmluZWRcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcInNpemUgbWV0aG9kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgU2V0XCIpfWVuc3VyZU1hcCh0aGlzKTtyZXR1cm4gdGhpc1tcIltbU2V0RGF0YV1dXCJdLnNpemV9fSk7ZGVmaW5lUHJvcGVydGllcyhTZXRTaGltLnByb3RvdHlwZSx7aGFzOmZ1bmN0aW9uKGtleSl7dmFyIGZrZXk7aWYodGhpcy5fc3RvcmFnZSYmKGZrZXk9ZmFzdGtleShrZXkpKSE9PW51bGwpe3JldHVybiEhdGhpcy5fc3RvcmFnZVtma2V5XX1lbnN1cmVNYXAodGhpcyk7cmV0dXJuIHRoaXNbXCJbW1NldERhdGFdXVwiXS5oYXMoa2V5KX0sYWRkOmZ1bmN0aW9uKGtleSl7dmFyIGZrZXk7aWYodGhpcy5fc3RvcmFnZSYmKGZrZXk9ZmFzdGtleShrZXkpKSE9PW51bGwpe3RoaXMuX3N0b3JhZ2VbZmtleV09dHJ1ZTtyZXR1cm4gdGhpc31lbnN1cmVNYXAodGhpcyk7dGhpc1tcIltbU2V0RGF0YV1dXCJdLnNldChrZXksa2V5KTtyZXR1cm4gdGhpc30sXCJkZWxldGVcIjpmdW5jdGlvbihrZXkpe3ZhciBma2V5O2lmKHRoaXMuX3N0b3JhZ2UmJihma2V5PWZhc3RrZXkoa2V5KSkhPT1udWxsKXt2YXIgaGFzRktleT1faGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9zdG9yYWdlLGZrZXkpO3JldHVybiBkZWxldGUgdGhpcy5fc3RvcmFnZVtma2V5XSYmaGFzRktleX1lbnN1cmVNYXAodGhpcyk7cmV0dXJuIHRoaXNbXCJbW1NldERhdGFdXVwiXVtcImRlbGV0ZVwiXShrZXkpfSxjbGVhcjpmdW5jdGlvbigpe2lmKHRoaXMuX3N0b3JhZ2Upe3RoaXMuX3N0b3JhZ2U9ZW1wdHlPYmplY3QoKTtyZXR1cm59cmV0dXJuIHRoaXNbXCJbW1NldERhdGFdXVwiXS5jbGVhcigpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtlbnN1cmVNYXAodGhpcyk7cmV0dXJuIHRoaXNbXCJbW1NldERhdGFdXVwiXS52YWx1ZXMoKX0sZW50cmllczpmdW5jdGlvbigpe2Vuc3VyZU1hcCh0aGlzKTtyZXR1cm4gdGhpc1tcIltbU2V0RGF0YV1dXCJdLmVudHJpZXMoKX0sZm9yRWFjaDpmdW5jdGlvbihjYWxsYmFjayl7dmFyIGNvbnRleHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTpudWxsO3ZhciBlbnRpcmVTZXQ9dGhpcztlbnN1cmVNYXAoZW50aXJlU2V0KTt0aGlzW1wiW1tTZXREYXRhXV1cIl0uZm9yRWFjaChmdW5jdGlvbih2YWx1ZSxrZXkpe2lmKGNvbnRleHQpe2NhbGxiYWNrLmNhbGwoY29udGV4dCxrZXksa2V5LGVudGlyZVNldCl9ZWxzZXtjYWxsYmFjayhrZXksa2V5LGVudGlyZVNldCl9fSl9fSk7ZGVmaW5lUHJvcGVydHkoU2V0U2hpbSxcImtleXNcIixTZXRTaGltLnZhbHVlcyx0cnVlKTthZGRJdGVyYXRvcihTZXRTaGltLnByb3RvdHlwZSxmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcygpfSk7cmV0dXJuIFNldFNoaW19KCl9O2RlZmluZVByb3BlcnRpZXMoZ2xvYmFscyxjb2xsZWN0aW9uU2hpbXMpO2lmKGdsb2JhbHMuTWFwfHxnbG9iYWxzLlNldCl7aWYodHlwZW9mIGdsb2JhbHMuTWFwLnByb3RvdHlwZS5jbGVhciE9PVwiZnVuY3Rpb25cInx8KG5ldyBnbG9iYWxzLlNldCkuc2l6ZSE9PTB8fChuZXcgZ2xvYmFscy5NYXApLnNpemUhPT0wfHx0eXBlb2YgZ2xvYmFscy5NYXAucHJvdG90eXBlLmtleXMhPT1cImZ1bmN0aW9uXCJ8fHR5cGVvZiBnbG9iYWxzLlNldC5wcm90b3R5cGUua2V5cyE9PVwiZnVuY3Rpb25cInx8dHlwZW9mIGdsb2JhbHMuTWFwLnByb3RvdHlwZS5mb3JFYWNoIT09XCJmdW5jdGlvblwifHx0eXBlb2YgZ2xvYmFscy5TZXQucHJvdG90eXBlLmZvckVhY2ghPT1cImZ1bmN0aW9uXCJ8fGlzQ2FsbGFibGVXaXRob3V0TmV3KGdsb2JhbHMuTWFwKXx8aXNDYWxsYWJsZVdpdGhvdXROZXcoZ2xvYmFscy5TZXQpfHwhc3VwcG9ydHNTdWJjbGFzc2luZyhnbG9iYWxzLk1hcCxmdW5jdGlvbihNKXt2YXIgbT1uZXcgTShbXSk7bS5zZXQoNDIsNDIpO3JldHVybiBtIGluc3RhbmNlb2YgTX0pKXtnbG9iYWxzLk1hcD1jb2xsZWN0aW9uU2hpbXMuTWFwO2dsb2JhbHMuU2V0PWNvbGxlY3Rpb25TaGltcy5TZXR9fWlmKGdsb2JhbHMuU2V0LnByb3RvdHlwZS5rZXlzIT09Z2xvYmFscy5TZXQucHJvdG90eXBlLnZhbHVlcyl7ZGVmaW5lUHJvcGVydHkoZ2xvYmFscy5TZXQucHJvdG90eXBlLFwia2V5c1wiLGdsb2JhbHMuU2V0LnByb3RvdHlwZS52YWx1ZXMsdHJ1ZSl9YWRkSXRlcmF0b3IoT2JqZWN0LmdldFByb3RvdHlwZU9mKChuZXcgZ2xvYmFscy5NYXApLmtleXMoKSkpO2FkZEl0ZXJhdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZigobmV3IGdsb2JhbHMuU2V0KS5rZXlzKCkpKX1yZXR1cm4gZ2xvYmFsc30pfSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJfcHJvY2Vzc1wiKSl9LHtfcHJvY2VzczozfV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7aWYoIXJlcXVpcmUoXCIuL2lzLWltcGxlbWVudGVkXCIpKCkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKFwiZXM1LWV4dC9nbG9iYWxcIiksXCJTeW1ib2xcIix7dmFsdWU6cmVxdWlyZShcIi4vcG9seWZpbGxcIiksY29uZmlndXJhYmxlOnRydWUsZW51bWVyYWJsZTpmYWxzZSx3cml0YWJsZTp0cnVlfSl9fSx7XCIuL2lzLWltcGxlbWVudGVkXCI6NixcIi4vcG9seWZpbGxcIjoyMSxcImVzNS1leHQvZ2xvYmFsXCI6OH1dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHN5bWJvbDtpZih0eXBlb2YgU3ltYm9sIT09XCJmdW5jdGlvblwiKXJldHVybiBmYWxzZTtzeW1ib2w9U3ltYm9sKFwidGVzdCBzeW1ib2xcIik7dHJ5e1N0cmluZyhzeW1ib2wpfWNhdGNoKGUpe3JldHVybiBmYWxzZX1pZih0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT09XCJzeW1ib2xcIilyZXR1cm4gdHJ1ZTtpZih0eXBlb2YgU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSE9PVwib2JqZWN0XCIpcmV0dXJuIGZhbHNlO2lmKHR5cGVvZiBTeW1ib2wuaXNSZWdFeHAhPT1cIm9iamVjdFwiKXJldHVybiBmYWxzZTtpZih0eXBlb2YgU3ltYm9sLml0ZXJhdG9yIT09XCJvYmplY3RcIilyZXR1cm4gZmFsc2U7aWYodHlwZW9mIFN5bWJvbC50b1ByaW1pdGl2ZSE9PVwib2JqZWN0XCIpcmV0dXJuIGZhbHNlO2lmKHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWchPT1cIm9iamVjdFwiKXJldHVybiBmYWxzZTtpZih0eXBlb2YgU3ltYm9sLnVuc2NvcGFibGVzIT09XCJvYmplY3RcIilyZXR1cm4gZmFsc2U7cmV0dXJuIHRydWV9fSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGFzc2lnbj1yZXF1aXJlKFwiZXM1LWV4dC9vYmplY3QvYXNzaWduXCIpLG5vcm1hbGl6ZU9wdHM9cmVxdWlyZShcImVzNS1leHQvb2JqZWN0L25vcm1hbGl6ZS1vcHRpb25zXCIpLGlzQ2FsbGFibGU9cmVxdWlyZShcImVzNS1leHQvb2JqZWN0L2lzLWNhbGxhYmxlXCIpLGNvbnRhaW5zPXJlcXVpcmUoXCJlczUtZXh0L3N0cmluZy8jL2NvbnRhaW5zXCIpLGQ7ZD1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihkc2NyLHZhbHVlKXt2YXIgYyxlLHcsb3B0aW9ucyxkZXNjO2lmKGFyZ3VtZW50cy5sZW5ndGg8Mnx8dHlwZW9mIGRzY3IhPT1cInN0cmluZ1wiKXtvcHRpb25zPXZhbHVlO3ZhbHVlPWRzY3I7ZHNjcj1udWxsfWVsc2V7b3B0aW9ucz1hcmd1bWVudHNbMl19aWYoZHNjcj09bnVsbCl7Yz13PXRydWU7ZT1mYWxzZX1lbHNle2M9Y29udGFpbnMuY2FsbChkc2NyLFwiY1wiKTtlPWNvbnRhaW5zLmNhbGwoZHNjcixcImVcIik7dz1jb250YWlucy5jYWxsKGRzY3IsXCJ3XCIpfWRlc2M9e3ZhbHVlOnZhbHVlLGNvbmZpZ3VyYWJsZTpjLGVudW1lcmFibGU6ZSx3cml0YWJsZTp3fTtyZXR1cm4hb3B0aW9ucz9kZXNjOmFzc2lnbihub3JtYWxpemVPcHRzKG9wdGlvbnMpLGRlc2MpfTtkLmdzPWZ1bmN0aW9uKGRzY3IsZ2V0LHNldCl7dmFyIGMsZSxvcHRpb25zLGRlc2M7aWYodHlwZW9mIGRzY3IhPT1cInN0cmluZ1wiKXtvcHRpb25zPXNldDtzZXQ9Z2V0O2dldD1kc2NyO2RzY3I9bnVsbH1lbHNle29wdGlvbnM9YXJndW1lbnRzWzNdfWlmKGdldD09bnVsbCl7Z2V0PXVuZGVmaW5lZH1lbHNlIGlmKCFpc0NhbGxhYmxlKGdldCkpe29wdGlvbnM9Z2V0O2dldD1zZXQ9dW5kZWZpbmVkfWVsc2UgaWYoc2V0PT1udWxsKXtzZXQ9dW5kZWZpbmVkfWVsc2UgaWYoIWlzQ2FsbGFibGUoc2V0KSl7b3B0aW9ucz1zZXQ7c2V0PXVuZGVmaW5lZH1pZihkc2NyPT1udWxsKXtjPXRydWU7ZT1mYWxzZX1lbHNle2M9Y29udGFpbnMuY2FsbChkc2NyLFwiY1wiKTtlPWNvbnRhaW5zLmNhbGwoZHNjcixcImVcIil9ZGVzYz17Z2V0OmdldCxzZXQ6c2V0LGNvbmZpZ3VyYWJsZTpjLGVudW1lcmFibGU6ZX07cmV0dXJuIW9wdGlvbnM/ZGVzYzphc3NpZ24obm9ybWFsaXplT3B0cyhvcHRpb25zKSxkZXNjKX19LHtcImVzNS1leHQvb2JqZWN0L2Fzc2lnblwiOjksXCJlczUtZXh0L29iamVjdC9pcy1jYWxsYWJsZVwiOjEyLFwiZXM1LWV4dC9vYmplY3Qvbm9ybWFsaXplLW9wdGlvbnNcIjoxNixcImVzNS1leHQvc3RyaW5nLyMvY29udGFpbnNcIjoxOH1dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPW5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9LHt9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1yZXF1aXJlKFwiLi9pcy1pbXBsZW1lbnRlZFwiKSgpP09iamVjdC5hc3NpZ246cmVxdWlyZShcIi4vc2hpbVwiKX0se1wiLi9pcy1pbXBsZW1lbnRlZFwiOjEwLFwiLi9zaGltXCI6MTF9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgYXNzaWduPU9iamVjdC5hc3NpZ24sb2JqO2lmKHR5cGVvZiBhc3NpZ24hPT1cImZ1bmN0aW9uXCIpcmV0dXJuIGZhbHNlO29iaj17Zm9vOlwicmF6XCJ9O2Fzc2lnbihvYmose2JhcjpcImR3YVwifSx7dHJ6eTpcInRyenlcIn0pO3JldHVybiBvYmouZm9vK29iai5iYXIrb2JqLnRyenk9PT1cInJhemR3YXRyenlcIn19LHt9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGtleXM9cmVxdWlyZShcIi4uL2tleXNcIiksdmFsdWU9cmVxdWlyZShcIi4uL3ZhbGlkLXZhbHVlXCIpLG1heD1NYXRoLm1heDttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihkZXN0LHNyYyl7dmFyIGVycm9yLGksbD1tYXgoYXJndW1lbnRzLmxlbmd0aCwyKSxhc3NpZ247ZGVzdD1PYmplY3QodmFsdWUoZGVzdCkpO2Fzc2lnbj1mdW5jdGlvbihrZXkpe3RyeXtkZXN0W2tleV09c3JjW2tleV19Y2F0Y2goZSl7aWYoIWVycm9yKWVycm9yPWV9fTtmb3IoaT0xO2k8bDsrK2kpe3NyYz1hcmd1bWVudHNbaV07a2V5cyhzcmMpLmZvckVhY2goYXNzaWduKX1pZihlcnJvciE9PXVuZGVmaW5lZCl0aHJvdyBlcnJvcjtyZXR1cm4gZGVzdH19LHtcIi4uL2tleXNcIjoxMyxcIi4uL3ZhbGlkLXZhbHVlXCI6MTd9XSwxMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gdHlwZW9mIG9iaj09PVwiZnVuY3Rpb25cIn19LHt9XSwxMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9cmVxdWlyZShcIi4vaXMtaW1wbGVtZW50ZWRcIikoKT9PYmplY3Qua2V5czpyZXF1aXJlKFwiLi9zaGltXCIpfSx7XCIuL2lzLWltcGxlbWVudGVkXCI6MTQsXCIuL3NoaW1cIjoxNX1dLDE0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe3RyeXtPYmplY3Qua2V5cyhcInByaW1pdGl2ZVwiKTtyZXR1cm4gdHJ1ZX1jYXRjaChlKXtyZXR1cm4gZmFsc2V9fX0se31dLDE1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcInVzZSBzdHJpY3RcIjt2YXIga2V5cz1PYmplY3Qua2V5czttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBrZXlzKG9iamVjdD09bnVsbD9vYmplY3Q6T2JqZWN0KG9iamVjdCkpfX0se31dLDE2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcInVzZSBzdHJpY3RcIjt2YXIgYXNzaWduPXJlcXVpcmUoXCIuL2Fzc2lnblwiKSxmb3JFYWNoPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLGNyZWF0ZT1PYmplY3QuY3JlYXRlLGdldFByb3RvdHlwZU9mPU9iamVjdC5nZXRQcm90b3R5cGVPZixwcm9jZXNzO3Byb2Nlc3M9ZnVuY3Rpb24oc3JjLG9iail7dmFyIHByb3RvPWdldFByb3RvdHlwZU9mKHNyYyk7cmV0dXJuIGFzc2lnbihwcm90bz9wcm9jZXNzKHByb3RvLG9iaik6b2JqLHNyYyl9O21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKG9wdGlvbnMpe3ZhciByZXN1bHQ9Y3JlYXRlKG51bGwpO2ZvckVhY2guY2FsbChhcmd1bWVudHMsZnVuY3Rpb24ob3B0aW9ucyl7aWYob3B0aW9ucz09bnVsbClyZXR1cm47cHJvY2VzcyhPYmplY3Qob3B0aW9ucykscmVzdWx0KX0pO3JldHVybiByZXN1bHR9fSx7XCIuL2Fzc2lnblwiOjl9XSwxNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybiB2YWx1ZX19LHt9XSwxODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9cmVxdWlyZShcIi4vaXMtaW1wbGVtZW50ZWRcIikoKT9TdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zOnJlcXVpcmUoXCIuL3NoaW1cIil9LHtcIi4vaXMtaW1wbGVtZW50ZWRcIjoxOSxcIi4vc2hpbVwiOjIwfV0sMTk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1widXNlIHN0cmljdFwiO3ZhciBzdHI9XCJyYXpkd2F0cnp5XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtpZih0eXBlb2Ygc3RyLmNvbnRhaW5zIT09XCJmdW5jdGlvblwiKXJldHVybiBmYWxzZTtyZXR1cm4gc3RyLmNvbnRhaW5zKFwiZHdhXCIpPT09dHJ1ZSYmc3RyLmNvbnRhaW5zKFwiZm9vXCIpPT09ZmFsc2V9fSx7fV0sMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1widXNlIHN0cmljdFwiO3ZhciBpbmRleE9mPVN0cmluZy5wcm90b3R5cGUuaW5kZXhPZjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihzZWFyY2hTdHJpbmcpe3JldHVybiBpbmRleE9mLmNhbGwodGhpcyxzZWFyY2hTdHJpbmcsYXJndW1lbnRzWzFdKT4tMX19LHt9XSwyMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGQ9cmVxdWlyZShcImRcIiksY3JlYXRlPU9iamVjdC5jcmVhdGUsZGVmaW5lUHJvcGVydGllcz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxnZW5lcmF0ZU5hbWUsU3ltYm9sO2dlbmVyYXRlTmFtZT1mdW5jdGlvbigpe3ZhciBjcmVhdGVkPWNyZWF0ZShudWxsKTtyZXR1cm4gZnVuY3Rpb24oZGVzYyl7dmFyIHBvc3RmaXg9MDt3aGlsZShjcmVhdGVkW2Rlc2MrKHBvc3RmaXh8fFwiXCIpXSkrK3Bvc3RmaXg7ZGVzYys9cG9zdGZpeHx8XCJcIjtjcmVhdGVkW2Rlc2NdPXRydWU7cmV0dXJuXCJAQFwiK2Rlc2N9fSgpO21vZHVsZS5leHBvcnRzPVN5bWJvbD1mdW5jdGlvbihkZXNjcmlwdGlvbil7dmFyIHN5bWJvbDtpZih0aGlzIGluc3RhbmNlb2YgU3ltYm9sKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVHlwZUVycm9yOiBTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIil9c3ltYm9sPWNyZWF0ZShTeW1ib2wucHJvdG90eXBlKTtkZXNjcmlwdGlvbj1kZXNjcmlwdGlvbj09PXVuZGVmaW5lZD9cIlwiOlN0cmluZyhkZXNjcmlwdGlvbik7cmV0dXJuIGRlZmluZVByb3BlcnRpZXMoc3ltYm9sLHtfX2Rlc2NyaXB0aW9uX186ZChcIlwiLGRlc2NyaXB0aW9uKSxfX25hbWVfXzpkKFwiXCIsZ2VuZXJhdGVOYW1lKGRlc2NyaXB0aW9uKSl9KX07T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoU3ltYm9sLHtjcmVhdGU6ZChcIlwiLFN5bWJvbChcImNyZWF0ZVwiKSksaGFzSW5zdGFuY2U6ZChcIlwiLFN5bWJvbChcImhhc0luc3RhbmNlXCIpKSxpc0NvbmNhdFNwcmVhZGFibGU6ZChcIlwiLFN5bWJvbChcImlzQ29uY2F0U3ByZWFkYWJsZVwiKSksaXNSZWdFeHA6ZChcIlwiLFN5bWJvbChcImlzUmVnRXhwXCIpKSxpdGVyYXRvcjpkKFwiXCIsU3ltYm9sKFwiaXRlcmF0b3JcIikpLHRvUHJpbWl0aXZlOmQoXCJcIixTeW1ib2woXCJ0b1ByaW1pdGl2ZVwiKSksdG9TdHJpbmdUYWc6ZChcIlwiLFN5bWJvbChcInRvU3RyaW5nVGFnXCIpKSx1bnNjb3BhYmxlczpkKFwiXCIsU3ltYm9sKFwidW5zY29wYWJsZXNcIikpfSk7ZGVmaW5lUHJvcGVydGllcyhTeW1ib2wucHJvdG90eXBlLHtwcm9wZXJUb1N0cmluZzpkKGZ1bmN0aW9uKCl7cmV0dXJuXCJTeW1ib2wgKFwiK3RoaXMuX19kZXNjcmlwdGlvbl9fK1wiKVwifSksdG9TdHJpbmc6ZChcIlwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19uYW1lX199KX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShTeW1ib2wucHJvdG90eXBlLFN5bWJvbC50b1ByaW1pdGl2ZSxkKFwiXCIsZnVuY3Rpb24oaGludCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvbnZlcnNpb24gb2Ygc3ltYm9sIG9iamVjdHMgaXMgbm90IGFsbG93ZWRcIil9KSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFN5bWJvbC5wcm90b3R5cGUsU3ltYm9sLnRvU3RyaW5nVGFnLGQoXCJjXCIsXCJTeW1ib2xcIikpfSx7ZDo3fV19LHt9LFsxXSk7IiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuKGZ1bmN0aW9uKGdsb2JhbCl7dmFyIHRvNVJ1bnRpbWU9Z2xvYmFsLnRvNVJ1bnRpbWU9e307dG81UnVudGltZS5leHRlbmRzPWZ1bmN0aW9uKGNoaWxkLHBhcmVudCl7Y2hpbGQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmNoaWxkLGVudW1lcmFibGU6ZmFsc2Usd3JpdGFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX19KTtjaGlsZC5fX3Byb3RvX189cGFyZW50fTt0bzVSdW50aW1lLmNsYXNzUHJvcHM9ZnVuY3Rpb24oY2hpbGQsc3RhdGljUHJvcHMsaW5zdGFuY2VQcm9wcyl7aWYoc3RhdGljUHJvcHMpT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY2hpbGQsc3RhdGljUHJvcHMpO2lmKGluc3RhbmNlUHJvcHMpT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY2hpbGQucHJvdG90eXBlLGluc3RhbmNlUHJvcHMpfTt0bzVSdW50aW1lLmFwcGx5Q29uc3RydWN0b3I9ZnVuY3Rpb24oQ29uc3RydWN0b3IsYXJncyl7dmFyIGluc3RhbmNlPU9iamVjdC5jcmVhdGUoQ29uc3RydWN0b3IucHJvdG90eXBlKTt2YXIgcmVzdWx0PUNvbnN0cnVjdG9yLmFwcGx5KGluc3RhbmNlLGFyZ3MpO3JldHVybiByZXN1bHQhPW51bGwmJih0eXBlb2YgcmVzdWx0PT1cIm9iamVjdFwifHx0eXBlb2YgcmVzdWx0PT1cImZ1bmN0aW9uXCIpP3Jlc3VsdDppbnN0YW5jZX07dG81UnVudGltZS50YWdnZWRUZW1wbGF0ZUxpdGVyYWw9ZnVuY3Rpb24oc3RyaW5ncyxyYXcpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHJpbmdzLHtyYXc6e3ZhbHVlOnJhd319KX07dG81UnVudGltZS5pbnRlcm9wUmVxdWlyZT1mdW5jdGlvbihvYmope3JldHVybiBvYmomJihvYmpbXCJkZWZhdWx0XCJdfHxvYmopfTt0bzVSdW50aW1lLnRvQXJyYXk9ZnVuY3Rpb24oYXJyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpP2FycjpBcnJheS5mcm9tKGFycil9O3RvNVJ1bnRpbWUub2JqZWN0U3ByZWFkPWZ1bmN0aW9uKG9iaixrZXlzKXt2YXIgdGFyZ2V0PXt9O2Zvcih2YXIgaSBpbiBvYmope2lmKGtleXMuaW5kZXhPZihpKT49MCljb250aW51ZTtpZighT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixpKSljb250aW51ZTt0YXJnZXRbaV09b2JqW2ldfXJldHVybiB0YXJnZXR9O3RvNVJ1bnRpbWUuaGFzT3duPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dG81UnVudGltZS5zbGljZT1BcnJheS5wcm90b3R5cGUuc2xpY2V9KSh0eXBlb2YgZ2xvYmFsPT09XCJ1bmRlZmluZWRcIj9zZWxmOmdsb2JhbCk7XG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGZvbywgYmFyID0gJ2JheicsIC4uLnF1eCkge1xuICByZXR1cm4gJ2JhciEnO1xufVxuIl19
